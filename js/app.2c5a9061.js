(function(t){function e(e){for(var s,r,c=e[0],n=e[1],l=e[2],u=0,p=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,c=1;c<a.length;c++){var n=a[c];0!==o[n]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},o={app:0},i=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/an-shop/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],n=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=n;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"067d":function(t,e,a){"use strict";a("8022")},"0e38":function(t,e,a){},"206d":function(t,e,a){"use strict";a("4413")},"25b2":function(t,e,a){"use strict";a("7906")},"2f5c":function(t,e,a){"use strict";a("8ffe")},"3aea":function(t,e,a){},4413:function(t,e,a){},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(t){var e=i(t);return a(e)}function i(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}o.keys=function(){return Object.keys(s)},o.resolve=i,t.exports=o,o.id="4678"},"51ff":function(t,e,a){},"53c9":function(t,e,a){t.exports=a.p+"img/banner-about.5af31ae4.jpg"},"56d7":function(t,e,a){"use strict";a.r(e);a("4de4"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],r=a("2877"),c={},n=Object(r["a"])(c,o,i,!1,null,null,null),l=n.exports,d=a("f309"),u=a("fcf4");s["default"].use(d["a"]);var p=new d["a"]({theme:{themes:{light:{danger:u["a"].red.darken1},dark:{danger:u["a"].red.darken1}}}}),v=a("8c4f"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"bg"},[a("v-container",[a("h1",{staticClass:"text-center white--text py-6"},[t._v("AN - Shop")]),a("v-card",{staticClass:"mx-auto",attrs:{width:"374",loading:t.loading}},[a("template",{slot:"progress"},[a("v-progress-linear",{attrs:{color:"primary",height:"10",indeterminate:""}})],1),a("v-tabs",{attrs:{grow:"","hide-slider":"","active-class":"v-tab-active"},model:{value:t.selectTab,callback:function(e){t.selectTab=e},expression:"selectTab"}},[a("v-tab",[t._v("User")]),a("v-tab",[t._v("Manager")])],1),a("v-card-title",{staticClass:"justify-center"},[t._v("Login")]),a("v-form",[a("v-card-text",[a("v-text-field",{attrs:{label:"Account","prepend-inner-icon":"mdi-account",solo:"",required:""},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}}),a("v-text-field",{attrs:{type:"password",label:"Password","prepend-inner-icon":"mdi-lock",solo:"",required:""},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}}),t.loginError?a("v-card-text",{staticClass:"py-0 text-center red--text"},[t._v(" 登入失敗 ! ")]):t._e()],1),a("v-card-actions",[a("v-btn",{attrs:{block:"",color:"success"},on:{click:t.signin}},[t._v(" Sign In ")])],1),a("v-card-actions",{staticClass:"mb-2"},[a("v-btn",{attrs:{block:"",color:"warning"}},[t._v(" Go Shop ")])],1)],1)],2)],1)],1)},m=[],f=(a("99af"),{data:function(){return{user:{username:"",password:""},selectTab:0,loading:!1,loginError:!1}},methods:{signin:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/admin/signin");t.loginError=!1,t.loading=!0,t.$http.post(e,t.user).then((function(e){if(!0===e.data.success){var a=e.data.token,s=e.data.expired;document.cookie="hexToken=".concat(a,"; expires=").concat(new Date(s)),0===t.selectTab?t.$router.push("/shop"):t.$router.push("/admin")}else t.loginError=!0;t.loading=!1}))}}}),g=f,b=(a("206d"),a("6544")),x=a.n(b),_=a("7496"),C=a("8336"),y=a("b0af"),k=a("99d9"),w=a("a523"),j=a("4bd4"),V=a("8e36"),$=a("71a3"),P=a("fe57"),S=a("8654"),D=Object(r["a"])(g,h,m,!1,null,null,null),O=D.exports;x()(D,{VApp:_["a"],VBtn:C["a"],VCard:y["a"],VCardActions:k["a"],VCardText:k["b"],VCardTitle:k["c"],VContainer:w["a"],VForm:j["a"],VProgressLinear:V["a"],VTab:$["a"],VTabs:P["a"],VTextField:S["a"]});var I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-navigation-drawer",{attrs:{app:"",color:"blue-grey darken-3",dark:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",{staticClass:"title"},[t._v(" AN - Shop 後台管理系統 ")]),a("v-list-item-subtitle",[t._v(" user001 ")])],1)],1),a("v-divider"),a("v-list",{attrs:{dense:"",nav:""}},t._l(t.navItems,(function(e){return a("v-list-item",{key:e.title,attrs:{link:"",to:e.link}},[a("v-list-item-icon",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-sm-body-2"},[t._v(t._s(e.title))])],1)],1)})),1)],1),a("v-app-bar",{attrs:{app:"",color:"blue-grey ",flat:"",dark:""}},[a("v-app-bar-nav-icon",{on:{click:function(e){t.drawer=!t.drawer}}}),a("v-toolbar-title",[t._v("AN - Shop")]),a("v-spacer"),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-heart")])],1),a("v-menu",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,o=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",o,!1),s),[a("v-icon",[t._v("mdi-dots-vertical")])],1)]}}])},[a("v-list",[a("v-list-item",{on:{click:function(e){return t.logout()}}},[a("v-list-item-title",[t._v("登出")])],1),a("v-list-item",{on:{click:function(e){return t.goShop()}}},[a("v-list-item-title",[t._v("前往商店")])],1)],1)],1)],1),a("v-main",{staticClass:"blue-grey lighten-4"},[a("v-container",[a("Alert"),a("router-view")],1)],1)],1)},E=[],T=(a("ac1f"),a("5319"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alert-custom"},t._l(t.messages,(function(e,s){return a("v-card",{key:s},[a("v-alert",{staticClass:"text-left",attrs:{dense:"",text:"",border:"left",type:e.status,"close-icon":"mdi-close",icon:e.icon}},[t._v(" "+t._s(e.message)+" ")])],1)})),1)}),A=[],L=(a("4160"),a("a434"),a("159b"),{data:function(){return{messages:[]}},methods:{updateMessage:function(t,e,a){var s=Math.floor(new Date/1e3);this.messages.push({message:t,status:e,icon:a,timestamp:s}),this.removeMessageWithTiming(s)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var e=this;setTimeout((function(){e.messages.forEach((function(a,s){a.timestamp===t&&e.messages.splice(s,1)}))}),5e3)}},created:function(){var t=this;t.$bus.$on("messsage:push",(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",s=arguments.length>2?arguments[2]:void 0;t.updateMessage(e,a,s)}))}}),H=L,F=(a("067d"),a("0798")),M=Object(r["a"])(H,T,A,!1,null,null,null),z=M.exports;x()(M,{VAlert:F["a"],VCard:y["a"]});var B={components:{Alert:z},data:function(){return{drawer:"true",navItems:[{title:"Dashboard",icon:"mdi-view-dashboard",link:"/admin/dashboard"},{title:"Products",icon:"mdi-folder-multiple",link:"/admin/products"},{title:"Coupons",icon:"mdi-ticket",link:"/admin/coupons"},{title:"Orders",icon:"mdi-clipboard-list",link:"/admin/orders"}]}},methods:{logout:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/logout");t.$http.post(e).then((function(){t.$router.push("/login")}))},goShop:function(){this.$router.push("/")}},created:function(){var t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization="".concat(t)}},N=B,q=a("40dc"),U=a("5bc1"),R=a("ce7e"),J=a("132d"),Q=a("8860"),Y=a("da13"),G=a("5d23"),W=a("34c3"),K=a("f6c4"),X=a("e449"),Z=a("f774"),tt=a("2fa4"),et=a("2a7f"),at=Object(r["a"])(N,I,E,!1,null,null,null),st=at.exports;x()(at,{VApp:_["a"],VAppBar:q["a"],VAppBarNavIcon:U["a"],VBtn:C["a"],VContainer:w["a"],VDivider:R["a"],VIcon:J["a"],VList:Q["a"],VListItem:Y["a"],VListItemContent:G["a"],VListItemIcon:W["a"],VListItemSubtitle:G["b"],VListItemTitle:G["c"],VMain:K["a"],VMenu:X["a"],VNavigationDrawer:Z["a"],VSpacer:tt["a"],VToolbarTitle:et["b"]});var ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"mt-8"},[a("v-data-table",{attrs:{headers:t.products.dataHeaders,items:t.products.data,search:t.search,loading:t.loading.dataTable,"mobile-breakpoint":"0","loading-text":"資料載入中... 請稍等"},scopedSlots:t._u([{key:"top",fn:function(){return[a("div",{staticClass:"pa-3 d-flex justify-space-between align-center"},[a("div",{staticClass:"text-h4 font-weight-bold"},[t._v("Product")]),a("div",{staticClass:"d-none d-sm-block"},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,o=e.attrs;return[a("v-btn",t._g(t._b({attrs:{color:"primary",dark:""},on:{click:function(e){t.products.isNew=!0}}},"v-btn",o,!1),s),[t._v(" 新增產品 ")])]}}]),model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[a("v-card",{attrs:{loading:t.loading.card,disabled:t.loading.card}},[a("template",{slot:"progress"},[a("v-progress-linear",{attrs:{color:"primary",height:"6",indeterminate:"",absolute:"",bottom:""}})],1),a("v-card-title",[a("span",{staticClass:"headline"},[t._v("新增產品")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-img",{attrs:{"lazy-src":"https://picsum.photos/id/11/10/6","max-height":"150","max-width":"250",src:t.products.tempProduct.imageUrl}}),a("label",{staticClass:"d-block text-center primary white--text py-2 my-2 rounded-lg",staticStyle:{cursor:"pointer"},attrs:{for:"btn-file"}},[t._v(" 上傳圖片 ")]),a("input",{ref:"files",staticClass:"d-none",attrs:{type:"file",placeholder:"",id:"btn-file"},on:{change:t.uploadFile}}),a("p",{staticClass:"text-center mb-2"},[t._v("OR")]),a("v-text-field",{staticClass:"mt-0",attrs:{dense:"",outlined:"",label:"圖片連結"},model:{value:t.products.tempProduct.imageUrl,callback:function(e){t.$set(t.products.tempProduct,"imageUrl",e)},expression:"products.tempProduct.imageUrl"}})],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"9"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"產品名稱"},model:{value:t.products.tempProduct.title,callback:function(e){t.$set(t.products.tempProduct,"title",e)},expression:"products.tempProduct.title"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"品牌"},model:{value:t.products.tempProduct.category,callback:function(e){t.$set(t.products.tempProduct,"category",e)},expression:"products.tempProduct.category"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"單位"},model:{value:t.products.tempProduct.unit,callback:function(e){t.$set(t.products.tempProduct,"unit",e)},expression:"products.tempProduct.unit"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:"原價"},model:{value:t.products.tempProduct.origin_price,callback:function(e){t.$set(t.products.tempProduct,"origin_price",e)},expression:"products.tempProduct.origin_price"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:"售價"},model:{value:t.products.tempProduct.price,callback:function(e){t.$set(t.products.tempProduct,"price",e)},expression:"products.tempProduct.price"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{items:["Man","Lady","Fashion","Best Sell","character"],label:"Hashtag",multiple:""},model:{value:t.products.tempProduct.description,callback:function(e){t.$set(t.products.tempProduct,"description",e)},expression:"products.tempProduct.description"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{"no-resize":"",label:"產品描述",hint:"An-Shop"},model:{value:t.products.tempProduct.content,callback:function(e){t.$set(t.products.tempProduct,"content",e)},expression:"products.tempProduct.content"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-checkbox",{attrs:{"true-value":"1","false-value":"0",label:"啟用"},model:{value:t.products.tempProduct.is_enabled,callback:function(e){t.$set(t.products.tempProduct,"is_enabled",e)},expression:"products.tempProduct.is_enabled"}})],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeEditDialog}},[t._v(" Close ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.updateProduct}},[t._v(" Save ")])],1)],2)],1)],1),a("v-spacer"),a("div",{staticClass:"d-sm-none px-3 mb-6"},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.delDialog,callback:function(e){t.delDialog=e},expression:"delDialog"}},[a("v-card",{attrs:{loading:t.loading.delete,disabled:t.loading.delete}},[a("template",{slot:"progress"},[a("v-progress-linear",{attrs:{color:"danger",height:"6",indeterminate:"",absolute:"",bottom:""}})],1),a("v-card-title",{staticClass:"headline text-center white--text danger"},[t._v("是否刪除以下商品")]),a("v-card-title",[t._v(t._s(t.products.delItem.category)+" - "+t._s(t.products.delItem.title))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelDialog}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"danger",text:""},on:{click:t.delProduct}},[t._v("Delete")]),a("v-spacer")],1)],2)],1)]},proxy:!0},{key:"item.edit",fn:function(e){var s=e.item;return[a("v-icon",{attrs:{color:"success"},on:{click:function(e){t.openEditDialog(s),t.products.isNew=!1}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{color:"danger"},on:{click:function(e){return t.openDelDialog(s)}}},[t._v(" mdi-delete ")])]}},{key:"item.is_enabled",fn:function(e){var s=e.item;return[1==s.is_enabled?a("p",{staticClass:"mb-0 success--text"},[t._v("Yes")]):a("p",{staticClass:"mb-0 danger--text"},[t._v("No")])]}}],null,!0)})],1)],1)},it=[],rt=a("5530"),ct={data:function(){return{products:{dataHeaders:[{text:"品牌",align:"start",value:"category"},{text:"產品名稱",value:"title"},{text:"售價",value:"origin_price"},{text:"定價",value:"price"},{text:"是否啟用",value:"is_enabled",filterable:!1},{text:"編輯",value:"edit",filterable:!1}],data:[],tempProduct:{},delItem:{},isNew:!1},loading:{dataTable:!1,card:!1,delete:!1},search:"",editDialog:!1,delDialog:!1}},methods:{getProducts:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/products/all");t.loading.dataTable=!0,t.$http.get(e).then((function(e){t.products.data=e.data.products,t.pagination=e.data.pagination,t.loading.dataTable=!1}))},updateProduct:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/admin/product"),a="post",s="新增";t.loading.card=!0,t.products.isNew||(e="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/admin/product/").concat(t.products.tempProduct.id),a="put",s="編輯"),t.$http[a](e,{data:t.products.tempProduct}).then((function(e){e.data.success?t.$bus.$emit("messsage:push","產品".concat(s,"成功"),"success","mdi-check-circle"):t.$bus.$emit("messsage:push","產品".concat(s,"失敗"),"danger","mdi-alert-outline"),t.getProducts(),t.closeEditDialog(),t.loading.card=!1}))},uploadFile:function(){var t=this,e=this.$refs.files.files[0],a=new FormData;a.append("file-to-upload",e);var s="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/admin/upload");t.$http.post(s,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){e.data.success&&t.$set(t.products.tempProduct,"imageUrl",e.data.imageUrl)}))},delProduct:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/admin/product/").concat(t.products.delItem.id);t.$http.delete(e).then((function(e){e.data.success?t.$bus.$emit("messsage:push",e.data.message,"success","mdi-check-circle"):t.$bus.$emit("messsage:push",e.data.message,"danger","mdi-alert-outline"),t.getProducts(),t.closeDelDialog()}))},openEditDialog:function(t){var e=this;e.products.tempProduct=Object(rt["a"])({},t),e.editDialog=!0},closeEditDialog:function(){var t=this;t.products.tempProduct={},t.editDialog=!1},openDelDialog:function(t){var e=this;e.products.delItem=Object(rt["a"])({},t),e.delDialog=!0},closeDelDialog:function(){var t=this;t.products.delItem={},t.delDialog=!1}},created:function(){this.getProducts()}},nt=ct,lt=(a("8247"),a("c6a6")),dt=a("ac7c"),ut=a("62ad"),pt=a("8fea"),vt=a("169a"),ht=a("adda"),mt=a("0fd9"),ft=a("a844"),gt=Object(r["a"])(nt,ot,it,!1,null,null,null),bt=gt.exports;x()(gt,{VAutocomplete:lt["a"],VBtn:C["a"],VCard:y["a"],VCardActions:k["a"],VCardText:k["b"],VCardTitle:k["c"],VCheckbox:dt["a"],VCol:ut["a"],VContainer:w["a"],VDataTable:pt["a"],VDialog:vt["a"],VIcon:J["a"],VImg:ht["a"],VProgressLinear:V["a"],VRow:mt["a"],VSpacer:tt["a"],VTextField:S["a"],VTextarea:ft["a"]});var xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"mt-8"},[a("v-data-table",{attrs:{headers:t.coupons.dataHeaders,items:t.coupons.data,search:t.search,loading:t.loading.dataTable,"mobile-breakpoint":"0","loading-text":"資料載入中... 請稍等"},scopedSlots:t._u([{key:"top",fn:function(){return[a("div",{staticClass:"pa-3 d-flex justify-space-between align-center"},[a("div",{staticClass:"text-h4 font-weight-bold"},[t._v("Coupons")]),a("div",{staticClass:"d-none d-sm-block"},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,o=e.attrs;return[a("v-btn",t._g(t._b({attrs:{color:"primary",dark:""},on:{click:function(e){return t.openEditDialog({},!0)}}},"v-btn",o,!1),s),[t._v(" 新增優惠券 ")])]}}]),model:{value:t.dialog.editDialog,callback:function(e){t.$set(t.dialog,"editDialog",e)},expression:"dialog.editDialog"}},[a("v-card",{attrs:{loading:t.loading.card,disabled:t.loading.card}},[a("template",{slot:"progress"},[a("v-progress-linear",{attrs:{color:"primary",height:"6",indeterminate:"",absolute:"",bottom:""}})],1),a("v-card-title",[t.coupons.isNew?a("span",{staticClass:"headline"},[t._v("新增優惠券")]):a("span",{staticClass:"headline"},[t._v("編輯優惠券")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:"優惠券名稱"},model:{value:t.coupons.tempCoupon.title,callback:function(e){t.$set(t.coupons.tempCoupon,"title",e)},expression:"coupons.tempCoupon.title"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:"優惠券代碼"},model:{value:t.coupons.tempCoupon.code,callback:function(e){t.$set(t.coupons.tempCoupon,"code",e)},expression:"coupons.tempCoupon.code"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,o=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"到期日","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.coupons.due_date,callback:function(e){t.$set(t.coupons,"due_date",e)},expression:"coupons.due_date"}},"v-text-field",o,!1),s))]}}]),model:{value:t.datePicker,callback:function(e){t.datePicker=e},expression:"datePicker"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.coupons.due_date,callback:function(e){t.$set(t.coupons,"due_date",e)},expression:"coupons.due_date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.coupons.tempCoupon.due_date)}}},[t._v(" OK ")])],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:"折扣百分比 ( 直接填入數字 )"},model:{value:t.coupons.tempCoupon.percent,callback:function(e){t.$set(t.coupons.tempCoupon,"percent",e)},expression:"coupons.tempCoupon.percent"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-checkbox",{attrs:{"true-value":"1","false-value":"0",label:"啟用"},model:{value:t.coupons.tempCoupon.is_enabled,callback:function(e){t.$set(t.coupons.tempCoupon,"is_enabled",e)},expression:"coupons.tempCoupon.is_enabled"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeEditDialog}},[t._v(" Close ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.updateCoupon}},[t._v(" Save ")])],1)],2)],1)],1),a("div",{staticClass:"d-sm-none px-3 mb-6"},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog.delDialog,callback:function(e){t.$set(t.dialog,"delDialog",e)},expression:"dialog.delDialog"}},[a("v-card",{attrs:{loading:t.loading.delete,disabled:t.loading.delete}},[a("template",{slot:"progress"},[a("v-progress-linear",{attrs:{color:"danger",height:"6",indeterminate:"",absolute:"",bottom:""}})],1),a("v-card-title",{staticClass:"headline text-center white--text danger"},[t._v("是否刪除以下優惠券")]),a("v-card-title",[t._v(" "+t._s(t.coupons.tempCoupon.title)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.closeDelDialog()}}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"danger",text:""},on:{click:t.deleteCoupon}},[t._v("Delete")]),a("v-spacer")],1)],2)],1)]},proxy:!0},{key:"item.percent",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.percent)+"% ")]}},{key:"item.due_date",fn:function(e){var a=e.item;return[t._v(" "+t._s(t._f("date")(a.due_date))+" ")]}},{key:"item.edit",fn:function(e){var s=e.item;return[a("v-icon",{attrs:{color:"success"},on:{click:function(e){t.openEditDialog(s),t.coupons.isNew=!1}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{color:"danger"},on:{click:function(e){return t.openDelDialog(s,!1)}}},[t._v(" mdi-delete ")])]}}],null,!0)})],1)],1)},_t=[],Ct={data:function(){return{coupons:{dataHeaders:[{text:"名稱",align:"start",value:"title"},{text:"折扣代碼",value:"code"},{text:"折扣百分比(%)",value:"percent"},{text:"到期日",value:"due_date"},{text:"編輯",value:"edit",filterable:!1,sortable:!1}],data:[],due_date:"",tempCoupon:{},isNew:!1,total_pages:""},loading:{dataTable:!1,card:!1,delete:!1},search:"",date:(new Date).toISOString().substr(0,10),datePicker:!1,dialog:{editDialog:!1,delDialog:!1}}},watch:{"coupons.due_date":function(){var t=this,e=new Date(t.coupons.due_date).getTime()/1e3;t.coupons.tempCoupon.due_date=e}},methods:{getAllCoupons:function(){var t=this;t.coupons.data=[];var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/admin/coupons?page=1");t.loading.dataTable=!0,t.$http.get(e).then((function(e){t.coupons.total_pages=e.data.pagination.total_pages;for(var a=1;a<=t.coupons.total_pages;a++)t.getCoupons(a);t.loading.dataTable=!1}))},getCoupons:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/admin/coupons?page=").concat(t);e.$http.get(a).then((function(t){e.coupons.data=e.coupons.data.concat(t.data.coupons)}))},updateCoupon:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/admin/coupon"),a="post",s="新增";t.loading.card=!0,t.coupons.isNew||(e="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/admin/coupon/").concat(t.coupons.tempCoupon.id),a="put",s="編輯"),t.$http[a](e,{data:t.coupons.tempCoupon}).then((function(e){e.data.success?t.$bus.$emit("messsage:push","優惠券".concat(s,"成功"),"success","mdi-check-circle"):t.$bus.$emit("messsage:push","優惠券".concat(s,"失敗"),"danger","mdi-alert-outline"),t.getAllCoupons(),t.closeEditDialog(),t.loading.card=!1}))},deleteCoupon:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/admin/coupon/").concat(t.coupons.tempCoupon.id);t.loading.delete=!0,t.$http.delete(e).then((function(e){e.data.success?t.$bus.$emit("messsage:push",e.data.message,"success","mdi-check-circle"):t.$bus.$emit("messsage:push",e.data.message,"danger","mdi-alert-outline"),t.getAllCoupons(),t.closeDelDialog(),t.loading.delete=!1}))},openEditDialog:function(t,e){var a=this;if(a.coupons.isNew=e,a.coupons.isNew)a.coupons.due_date=(new Date).toLocaleDateString().replace(/\//g,"-"),a.coupons.tempCoupon={};else{a.coupons.tempCoupon=Object(rt["a"])({},t);var s=new Date(1e3*a.coupons.tempCoupon.due_date).toLocaleDateString().replace(/\//g,"-");a.coupons.due_date=s}a.dialog.editDialog=!0},closeEditDialog:function(){var t=this;t.dialog.editDialog=!1},openDelDialog:function(t){var e=this;e.coupons.tempCoupon=Object(rt["a"])({},t),e.dialog.delDialog=!0},closeDelDialog:function(){var t=this;t.dialog.delDialog=!1}},created:function(){this.getAllCoupons()}},yt=Ct,kt=a("2e4b"),wt=Object(r["a"])(yt,xt,_t,!1,null,null,null),jt=wt.exports;x()(wt,{VBtn:C["a"],VCard:y["a"],VCardActions:k["a"],VCardText:k["b"],VCardTitle:k["c"],VCheckbox:dt["a"],VCol:ut["a"],VContainer:w["a"],VDataTable:pt["a"],VDatePicker:kt["a"],VDialog:vt["a"],VIcon:J["a"],VMenu:X["a"],VProgressLinear:V["a"],VRow:mt["a"],VSpacer:tt["a"],VTextField:S["a"]});var Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"mt-8"},[t.orders?a("v-data-table",{attrs:{headers:t.orders.dataHeaders,items:t.orders.data,search:t.search,loading:t.loading.dataTable,expanded:t.expanded,"mobile-breakpoint":"0","loading-text":"資料載入中... 請稍等","show-expand":""},on:{"update:expanded":function(e){t.expanded=e}},scopedSlots:t._u([{key:"top",fn:function(){return[a("div",{staticClass:"pa-3 d-flex justify-space-between align-center"},[a("div",{staticClass:"text-h4 font-weight-bold"},[t._v("Orders")]),a("div",{staticClass:"d-none d-sm-block"},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"d-sm-none px-3 mb-6"},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-dialog",{attrs:{"max-width":"400px"},model:{value:t.dialog.userInfo,callback:function(e){t.$set(t.dialog,"userInfo",e)},expression:"dialog.userInfo"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" 購買人詳細資訊 ")]),a("v-card-text",[a("v-icon",{staticClass:"pr-2"},[t._v(" mdi-account ")]),t._v(" "+t._s(t.orders.tempUser.name)+" ")],1),a("v-card-text",[a("v-icon",{staticClass:"pr-2"},[t._v(" mdi-email ")]),t._v(" "+t._s(t.orders.tempUser.email)+" ")],1),a("v-card-text",[a("v-icon",{staticClass:"pr-2"},[t._v(" mdi-home ")]),t._v(" "+t._s(t.orders.tempUser.address)+" ")],1),a("v-card-text",[a("v-icon",{staticClass:"pr-2"},[t._v(" mdi-phone ")]),t._v(" "+t._s(t.orders.tempUser.tel)+" ")],1)],1)],1)]},proxy:!0},{key:"item.create_at",fn:function(e){var a=e.item;return[t._v(" "+t._s(t._f("date")(a.create_at))+" ")]}},{key:"item.user.email",fn:function(e){var s=e.item;return[a("div",{staticClass:"d-flex align-center"},[a("v-btn",{attrs:{color:"primary",icon:""},on:{click:function(e){return t.openUserInfoDialog(s)}}},[a("v-icon",[t._v("mdi-account-box")])],1),s.user?a("div",[t._v(t._s(s.user.email))]):t._e()],1)]}},{key:"item.products",fn:function(e){var s=e.item;return[a("div",{staticStyle:{"max-height":"100px","overflow-y":"hidden"}},t._l(s.products,(function(e,s){return a("div",{key:s,staticClass:"my-1"},[t._v(" "+t._s(e.product.title)+" : "+t._s(e.qty)+" ")])})),0),t.getObjLength(s)>3?a("div",{staticClass:"font-weight-bold"},[t._v("...")]):t._e()]}},{key:"item.is_paid",fn:function(e){var s=e.item;return[1==s.is_paid?a("p",{staticClass:"mb-0 success--text"},[t._v("Yes")]):a("p",{staticClass:"mb-0 danger--text"},[t._v("No")])]}},{key:"item.edit",fn:function(e){var s=e.item;return[a("v-btn",{attrs:{icon:"",color:"success"},on:{click:function(e){return t.openEditDialog(s)}}},[a("v-icon",[t._v("mdi-pencil")])],1)]}},{key:"expanded-item",fn:function(e){var s=e.headers,o=e.item;return[a("td",{staticClass:"px-0",attrs:{colspan:s.length,elevation:"0"}},[a("div",{staticClass:"pa-3 font-weight-bold"},[t._v(" 訂單詳細資訊 ")]),a("v-simple-table",{staticClass:"rounded-0",attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v(" 產品名稱 ")]),a("th",{staticClass:"text-left"},[t._v(" 數量 ")]),a("th",{staticClass:"text-left"},[t._v(" 產品售價 ")]),a("th",{staticClass:"text-left"},[t._v(" 總計金額 ")])])]),a("tbody",t._l(o.products,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.product.title))]),a("td",[t._v(t._s(e.qty)+" "+t._s(e.product.unit))]),a("td",[t._v(t._s(e.product.price)+" 元")]),a("td",[t._v(t._s(e.final_total)+" 元")])])})),0)]},proxy:!0}],null,!0)})],1)]}}],null,!0)}):t._e()],1),t.orders.tempOrder.user?a("v-dialog",{attrs:{"max-width":"650px"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[a("v-card",[a("v-card-title",{staticStyle:{"background-color":"blue"}},[a("span",{staticClass:"headline white--text"},[t._v("編輯訂單")])]),a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[t._v("訂購人資料")]),a("v-col",{staticClass:"pa-3",attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"訂購人姓名"},model:{value:t.orders.tempOrder.user.name,callback:function(e){t.$set(t.orders.tempOrder.user,"name",e)},expression:"orders.tempOrder.user.name"}})],1),a("v-col",{staticClass:"pa-3",attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"訂購人 E-mail"},model:{value:t.orders.tempOrder.user.email,callback:function(e){t.$set(t.orders.tempOrder.user,"email",e)},expression:"orders.tempOrder.user.email"}})],1),a("v-col",{staticClass:"pa-3",attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"訂購人電話"},model:{value:t.orders.tempOrder.user.tel,callback:function(e){t.$set(t.orders.tempOrder.user,"tel",e)},expression:"orders.tempOrder.user.tel"}})],1),a("v-col",{staticClass:"pa-3",attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"訂購人地址"},model:{value:t.orders.tempOrder.user.address,callback:function(e){t.$set(t.orders.tempOrder.user,"address",e)},expression:"orders.tempOrder.user.address"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-checkbox",{attrs:{label:"是否付款"},model:{value:t.orders.tempOrder.is_paid,callback:function(e){t.$set(t.orders.tempOrder,"is_paid",e)},expression:"orders.tempOrder.is_paid"}})],1),a("v-btn",{on:{click:t.updateOrder}},[t._v("確認")])],1)],1)],1)],1):t._e()],1)},$t=[],Pt=(a("b64b"),{data:function(){return{editDialog:!1,orders:{dataHeaders:[{text:"",value:"data-table-expand"},{text:"購買時間",align:"start",value:"create_at"},{text:"購買人 Email",value:"user.email"},{text:"購買品項",value:"products",sortable:!1},{text:"應付金額",value:"total"},{text:"是否付款",value:"is_paid",filterable:!1},{text:"編輯",value:"edit",sortable:!1}],data:[],total_pages:"",tempUser:{},tempOrder:{}},expanded:[],dialog:{userInfo:!1},loading:{dataTable:!1},search:""}},methods:{getAllOrders:function(){var t=this;t.orders.data=[],t.loading.dataTable=!0;var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/admin/orders?page=1");t.$http.get(e).then((function(e){t.orders.total_pages=e.data.pagination.total_pages;for(var a=1;a<=t.orders.total_pages;a++)t.getOrders(a);t.loading.dataTable=!1}))},getOrders:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/admin/orders?page=").concat(t);e.$http.get(a).then((function(t){e.orders.data=e.orders.data.concat(t.data.orders)}))},updateOrder:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/admin/order/").concat(t.orders.tempOrder.id);t.$http.put(e,{data:t.orders.tempOrder}).then((function(e){e.data.success?t.$bus.$emit("messsage:push",e.data.message,"success","mdi-check-circle"):t.$bus.$emit("messsage:push",e.data.message,"danger","mdi-alert-outline"),t.getAllOrders(),t.editDialog=!1}))},openUserInfoDialog:function(t){var e=this;e.orders.tempUser=Object(rt["a"])({},t.user),e.dialog.userInfo=!0},openEditDialog:function(t){var e=this;e.orders.tempOrder=Object(rt["a"])({},t),e.editDialog=!0},getObjLength:function(t){var e=0;return Object.prototype.hasOwnProperty.call(t,"products")&&(e=Object.keys(t.products).length),e}},created:function(){this.getAllOrders()}}),St=Pt,Dt=(a("2f5c"),a("1f4f")),Ot=Object(r["a"])(St,Vt,$t,!1,null,null,null),It=Ot.exports;x()(Ot,{VBtn:C["a"],VCard:y["a"],VCardText:k["b"],VCardTitle:k["c"],VCheckbox:dt["a"],VCol:ut["a"],VContainer:w["a"],VDataTable:pt["a"],VDialog:vt["a"],VIcon:J["a"],VRow:mt["a"],VSimpleTable:Dt["a"],VTextField:S["a"]});var Et,Tt,At,Lt,Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",{staticClass:"pa-8"},[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"text-center text-sm-left text-h4 font-weight-bold blue-grey--text text--darken-2"},[t._v(" Dashboard ")])]),a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-card",{attrs:{flat:""}},[a("div",{staticClass:"d-flex justify-space-between align-center pa-3"},[a("v-icon",{attrs:{size:"48",color:"green"}},[t._v("mdi-cash-100")]),a("div",{staticClass:"text-right"},[a("div",{staticClass:"font-weight-bold"},[t._v("目前收益")]),a("div",{staticClass:"text-h6"},[t._v(" $ 15786 ")])])],1),a("v-divider"),a("div",{staticClass:"px-3 py-2 grey--text text--lighten-1 text-caption"},[t._v(" More Info ")])],1)],1),a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-card",{attrs:{flat:""}},[a("div",{staticClass:"d-flex justify-space-between align-center pa-3"},[a("v-icon",{attrs:{size:"48",color:"blue"}},[t._v("mdi-account-plus")]),a("div",{staticClass:"text-right"},[a("div",{staticClass:"font-weight-bold"},[t._v("顧客成長")]),a("div",{staticClass:"text-h6"},[t._v(" + 49 ")])])],1),a("v-divider"),a("div",{staticClass:"px-3 py-2 grey--text text--lighten-1 text-caption"},[t._v(" Last Year ")])],1)],1),a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-card",{attrs:{flat:""}},[a("div",{staticClass:"d-flex justify-space-between align-center pa-3"},[a("v-icon",{attrs:{size:"48",color:"red"}},[t._v("mdi-chart-timeline-variant")]),a("div",{staticClass:"text-right"},[a("div",{staticClass:"font-weight-bold"},[t._v("訂單成長")]),a("div",{staticClass:"text-h6"},[t._v(" + 13 ")])])],1),a("v-divider"),a("div",{staticClass:"px-3 py-2 grey--text text--lighten-1 text-caption"},[t._v(" Last Month ")])],1)],1),a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-card",{attrs:{flat:""}},[a("div",{staticClass:"d-flex justify-space-between align-center pa-3"},[a("v-icon",{attrs:{size:"48",color:"indigo"}},[t._v("mdi-facebook")]),a("div",{staticClass:"text-right"},[a("div",{staticClass:"font-weight-bold"},[t._v("追蹤人數")]),a("div",{staticClass:"text-h6"},[t._v(" + 113 ")])])],1),a("v-divider"),a("div",{staticClass:"px-3 py-2 grey--text text--lighten-1 text-caption"},[t._v(" Your Page ")])],1)],1),a("v-col",{attrs:{cols:"12",sm:"8"}},[a("v-card",{staticClass:"pa-4 chart-container",attrs:{flat:""}},[a("div",{staticClass:"text-h6 font-weight-bold"},[t._v(" 本年度每月訂單數量 "),t.loaded?t._e():a("span",{staticClass:"text-subtitle-1"},[t._v("圖表載入中 ...")])]),t.loaded?a("LineChart",{attrs:{chartdata:t.ordersChartData,options:t.options}}):t._e()],1)],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-card",{staticClass:"chart-container pa-4",attrs:{flat:""}},[a("div",{staticClass:"text-h6 font-weight-bold"},[t._v("上架商品比例")]),a("PieChart")],1)],1),a("v-col",{attrs:{cols:"12"}})],1)],1)},Ft=[],Mt=(a("d3b7"),a("3ca3"),a("ddb0"),a("96cf"),a("1da1")),zt=a("1fca"),Bt={extends:zt["a"],props:{chartdata:{type:Object},options:{type:Object,default:null}},mounted:function(){this.renderChart(this.chartdata,this.options)}},Nt=Bt,qt=Object(r["a"])(Nt,Et,Tt,!1,null,null,null),Ut=qt.exports,Rt={extends:zt["b"],data:function(){return{chartdata:{labels:["watches","sunglasses","ring","necklace","earings"],datasets:[{backgroundColor:["#F44336","#3F51B5","#009688","#FF9800","#795548"],data:[40,20,10,20,30]}]},options:{responsive:!0,maintainAspectRatio:!1},products:[]}},mounted:function(){this.getProducts(),this.renderChart(this.chartdata,this.options)},methods:{getProducts:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/products/all"),a=[0,0,0,0,0];this.$http.get(e).then((function(e){e.data.products.forEach((function(t){switch(t.category){case"watches":a[0]=a[0]+1;break;case"sunglasses":a[1]=a[1]+1;break;case"ring":a[2]=a[2]+1;break;case"necklace":a[3]=a[3]+1;break;case"earings":a[4]=a[4]+1;break}})),t.chartdata.datasets[0].data=a}))}}},Jt=Rt,Qt=Object(r["a"])(Jt,At,Lt,!1,null,null,null),Yt=Qt.exports,Gt=a("c1df"),Wt=a.n(Gt),Kt={components:{LineChart:Ut,PieChart:Yt},data:function(){return{options:{responsive:!0,maintainAspectRatio:!1},loaded:!1,ordersChartData:null,orders:{data:[],total_pages:0}}},methods:{getChartData:function(){var t=this;return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var a,s,o,i,r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,s=1,a.orders.data=[],o="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/admin/orders?page=1"),e.next=6,a.$http.get(o).then((function(t){s=t.data.pagination.total_pages}));case 6:for(i=[],r=1;r<=s;r++)c="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/admin/orders?page=").concat(r),i.push(a.$http.get(c).then((function(t){a.orders.data=a.orders.data.concat(t.data.orders)})));Promise.all(i).then((function(){a.fillData(),a.loaded=!0}));case 9:case"end":return e.stop()}}),e)})))()},fillData:function(){var t=this,e={labels:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],datasets:[{label:"Orders",backgroundColor:["#80DEEA"],data:[0,0,0,0,0,0,0,0,0,0,0,0],borderColor:["#00838F"]}]};t.orders.data.forEach((function(t){var a=Wt()(1e3*t.create_at).format("YYYY"),s=Wt()(1e3*t.create_at).format("MM");if("2021"===a)switch(s){case"01":e.datasets[0].data[0]=e.datasets[0].data[0]+1;break;case"02":e.datasets[0].data[1]=e.datasets[0].data[1]+1;break;case"03":e.datasets[0].data[2]=e.datasets[0].data[2]+1;break;case"04":e.datasets[0].data[3]=e.datasets[0].data[3]+1;break;case"05":e.datasets[0].data[4]=e.datasets[0].data[4]+1;break;case"06":e.datasets[0].data[5]=e.datasets[0].data[5]+1;break;case"07":e.datasets[0].data[6]=e.datasets[0].data[6]+1;break;case"08":e.datasets[0].data[7]=e.datasets[0].data[7]+1;break;case"09":e.datasets[0].data[8]=e.datasets[0].data[8]+1;break;case"10":e.datasets[0].data[9]=e.datasets[0].data[9]+1;break;case"11":e.datasets[0].data[10]=e.datasets[0].data[10]+1;break;case"12":e.datasets[0].data[11]=e.datasets[0].data[11]+1;break}})),t.ordersChartData=Object(rt["a"])({},e)}},mounted:function(){this.getChartData()}},Xt=Kt,Zt=Object(r["a"])(Xt,Ht,Ft,!1,null,null,null),te=Zt.exports;x()(Zt,{VCard:y["a"],VCol:ut["a"],VDivider:R["a"],VIcon:J["a"],VRow:mt["a"]});var ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Navbar"),a("v-main",{staticStyle:{"background-color":"#ECEFF1"}},[a("Alert"),a("router-view"),a("Footer")],1)],1)},ae=[],se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"grey lighten-4",flat:"",tile:""}},[a("v-toolbar",{staticClass:" px-2 px-sm-8",attrs:{flat:"",dark:"",color:"blue-grey darken-1"}},[a("v-icon",{staticClass:"mr-4 d-none d-sm-block"},[t._v("mdi-store")]),a("v-icon",{staticClass:"mr-4  d-sm-none",on:{click:function(e){t.sideBarActive=!0}}},[t._v("mdi-menu")]),a("v-toolbar-title",[t._v("An - Shop")]),a("v-spacer"),t._l(t.nav,(function(e,s){return a("v-toolbar-items",{key:s,staticClass:"d-none d-sm-block"},[a("v-btn",{attrs:{color:"blue-grey darken-1",depressed:"",to:e.to,title:e.title}},[t._v(t._s(e.text))])],1)})),a("v-btn",{staticClass:"ml-10",attrs:{icon:""},on:{click:t.getFavList}},[t.isHadFav?a("v-icon",{attrs:{color:"red darken-1"}},[t._v("mdi-heart")]):a("v-icon",{attrs:{color:"red darken-1"}},[t._v("mdi-heart-outline")])],1),a("v-btn",{attrs:{icon:""},on:{click:t.getCarts}},[a("v-icon",[t._v("mdi-cart")])],1),a("v-btn",{attrs:{icon:"",to:"/login"}},[a("v-icon",[t._v("mdi-login")])],1)],2),a("SideCart",{attrs:{carts:t.carts,isActive:t.sideCartActive},on:{hideCart:t.hideSideCart}}),a("SideBar",{attrs:{isActive:t.sideBarActive},on:{hideBar:t.hideSideBar}}),a("FavList",{attrs:{isActive:t.favListActive,products:t.favList},on:{hideFavList:t.hideFavList,getFavList:t.getFavList}})],1)},oe=[],ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"side-cart-wrap",class:{active:t.isActive}},[a("div",{staticClass:"side-cart"},[t.carts.length>0?a("div",[a("div",{staticClass:"text-center pa-4 d-flex justify-center",staticStyle:{"background-color":"#78909C"}},[a("div",{staticClass:"white--text text-h6 font-weight-bold mr-auto"},[t._v(" 我的購物車 ")]),a("v-icon",{staticClass:"white--text d-sm-none",attrs:{large:""},on:{click:t.hide}},[t._v("mdi-close")])],1),a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"}),a("th",{staticClass:"text-left"},[t._v(" 品名 ")]),a("th",{staticClass:"text-left"},[t._v(" 售價 ")]),a("th",{staticClass:"text-left"},[t._v(" 數量 ")]),a("th",{staticClass:"text-left"})])]),a("tbody",t._l(t.carts,(function(e,s){return a("tr",{key:s},[a("td",{staticClass:"pa-2"},[a("v-img",{attrs:{"max-height":"90","max-width":"90",src:e.product.imageUrl}})],1),a("td",[t._v(t._s(e.product.title))]),a("td",[t._v(t._s(e.product.price))]),a("td",[t._v(t._s(e.qty))]),a("td",[a("v-btn",{attrs:{icon:"",color:"black"},on:{click:function(a){return t.delCart(e.id)}}},[a("v-icon",{attrs:{size:"16"}},[t._v("mdi-close")])],1)],1)])})),0)]},proxy:!0}],null,!1,275104655)}),a("v-divider"),a("div",{staticClass:"text-right pa-5",staticStyle:{"background-color":"#ffffff"}},[t._v(" 總計 : "+t._s(t.totalPrice)+" ")]),a("div",{staticClass:"py-2 px-2"},[a("v-btn",{attrs:{dark:"",block:"",depressed:"",color:"blue-grey lighten-1",to:"/carts"},on:{click:t.hide}},[t._v("結帳去")])],1)],1):a("div",{staticClass:"d-flex flex-column px-6 justify-center h-100"},[a("div",{staticClass:"text-h6 text-center font-weight-bold mb-5"},[t._v(" 目前沒有任何商品唷 ")]),a("v-btn",{attrs:{dark:"",depressed:"",color:"blue-grey lighten-1",to:"/products"},on:{click:t.hide}},[t._v("前往購物")])],1)]),a("div",{staticClass:"overlay",on:{click:t.hide}})])},re=[],ce={props:{isActive:Boolean,carts:Array},computed:{totalPrice:function(){var t=0;return this.carts.forEach((function(e){var a=e.product.price*e.qty;t+=a})),t}},methods:{hide:function(){this.$emit("hideCart")},updateCarts:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/cart");t.$http.get(e).then((function(e){t.carts=e.data.data.carts}))},delCart:function(t){var e=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/cart/").concat(t);e.$http.delete(a).then((function(){e.updateCarts()}))}}},ne=ce,le=(a("f22f"),Object(r["a"])(ne,ie,re,!1,null,null,null)),de=le.exports;x()(le,{VBtn:C["a"],VDivider:R["a"],VIcon:J["a"],VImg:ht["a"],VSimpleTable:Dt["a"]});var ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sidebar-wrap d-sm-none",class:{active:t.isActive}},[a("div",{staticClass:"pa-4 d-flex justify-space-between",staticStyle:{"background-color":"#607D8B"}},[a("div",{staticClass:"text-center text-h5 font-weight-bold white--text"},[t._v(" An-Shop ")]),a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{large:"",color:"white"},on:{click:t.hide}},[t._v("mdi-close")])],1)],1),a("v-list",{attrs:{nav:""}},[a("v-list-item-group",{attrs:{color:"blue-grey"},model:{value:t.selectedItem,callback:function(e){t.selectedItem=e},expression:"selectedItem"}},t._l(t.items,(function(e,s){return a("v-list-item",{key:s,attrs:{to:e.to},on:{click:t.hide}},[a("v-list-item-icon",[a("v-icon",{domProps:{textContent:t._s(e.icon)}})],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.text)}})],1)],1)})),1)],1)],1)},pe=[],ve={props:{isActive:Boolean},data:function(){return{selectedItem:1,items:[{text:"Home",icon:"mdi-home",to:"/index"},{text:"Products",icon:"mdi-animation",to:"/products"},{text:"Carts",icon:"mdi-cart",to:"/carts"},{text:"About",icon:"mdi-information",to:"/about"}]}},methods:{hide:function(){this.$emit("hideBar")}}},he=ve,me=(a("edc6"),a("1baa")),fe=Object(r["a"])(he,ue,pe,!1,null,null,null),ge=fe.exports;x()(fe,{VBtn:C["a"],VIcon:J["a"],VList:Q["a"],VListItem:Y["a"],VListItemContent:G["a"],VListItemGroup:me["a"],VListItemIcon:W["a"],VListItemTitle:G["c"]});var be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"side-cart-wrap",class:{active:t.isActive}},[a("div",{staticClass:"side-cart"},[t.products.length>0?a("div",[a("div",{staticClass:"text-center pa-4 d-flex justify-center",staticStyle:{"background-color":"#78909C"}},[a("div",{staticClass:"white--text text-h6 font-weight-bold mr-auto"},[t._v(" 我的最愛 ")]),a("v-icon",{staticClass:"white--text d-sm-none",attrs:{large:""},on:{click:t.hide}},[t._v("mdi-close")])],1),a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"}),a("th",{staticClass:"text-left"},[t._v(" 品名 ")]),a("th",{staticClass:"text-left"},[t._v(" 售價 ")]),a("th",{staticClass:"text-left"},[t._v(" 加入購物車 ")]),a("th",{staticClass:"text-left"},[t._v(" 刪除 ")])])]),a("tbody",t._l(t.products,(function(e,s){return a("tr",{key:s},[a("td",{staticClass:"pa-2"},[a("v-img",{attrs:{"max-height":"90","max-width":"90",src:e.imageUrl}})],1),a("td",[t._v(t._s(e.title))]),a("td",[t._v(t._s(e.price))]),a("td",[a("v-btn",{staticClass:"white--text",attrs:{color:"blue-grey",depressed:"",disabled:-1!==t.isLoading,loading:t.isLoading===e.id},on:{click:function(a){return t.addToCart(e.id,1)}}},[t._v(" 加入購物車 ")])],1),a("td",[a("v-btn",{attrs:{icon:"",color:"black",disabled:-1!==t.isLoading},on:{click:function(a){return t.delFav(e)}}},[a("v-icon",{attrs:{size:"16"}},[t._v("mdi-close")])],1)],1)])})),0)]},proxy:!0}],null,!1,732132772)}),a("v-divider")],1):a("div",{staticClass:"d-flex flex-column px-6 justify-center h-100"},[a("div",{staticClass:"text-h6 font-weight-bold mb-5"},[t._v(" 我的最愛目前沒有任何商品唷 ")]),a("v-btn",{attrs:{dark:"",depressed:"",color:"blue-grey lighten-1"},on:{click:t.hide}},[t._v("前往購物")])],1)]),a("div",{staticClass:"overlay",on:{click:t.hide}})])},xe=[],_e={props:{isActive:Boolean,products:Array},data:function(){return{carts:[],isLoading:-1}},computed:{totalPrice:function(){var t=0;return this.carts.forEach((function(e){var a=e.product.price*e.qty;t+=a})),t}},methods:{hide:function(){this.$emit("hideFavList")},getProducts:function(){this.$emit("getFavList")},delFav:function(t){var e=JSON.parse(localStorage.getItem("favProducts"));e.forEach((function(a,s){a.id===t.id&&e.splice(s,1)})),localStorage.setItem("favProducts",JSON.stringify(e)),this.getProducts()},getCarts:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/cart");t.$http.get(e).then((function(e){t.carts=e.data.data.carts}))},delCart:function(t){var e=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/cart/").concat(t);e.$http.delete(a).then((function(){}))},addToCart:function(t,e){var a=this;a.carts.forEach((function(s){s.product.id===t&&(a.delCart(s.id),e+=s.qty)})),a.isLoading=t;var s="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/cart");a.$http.post(s,{data:{product_id:t,qty:e}}).then((function(t){t.data.success?(a.$bus.$emit("messsage:push","".concat(t.data.data.product.title,"新增至購物車"),"success","mdi-check-circle"),a.getCarts()):a.$bus.$emit("messsage:push","".concat(t.data.data.product.title,"新增失敗"),"error","mdi-alert-outline"),a.isLoading=-1}))}},created:function(){this.getCarts()}},Ce=_e,ye=(a("b758"),Object(r["a"])(Ce,be,xe,!1,null,null,null)),ke=ye.exports;x()(ye,{VBtn:C["a"],VDivider:R["a"],VIcon:J["a"],VImg:ht["a"],VSimpleTable:Dt["a"]});var we={components:{SideCart:de,SideBar:ge,FavList:ke},data:function(){return{nav:[{text:"Home",title:"Back to Home page",active:!0,to:"/index"},{text:"Shop",title:"Go to Shopping",active:!1,to:"/products"},{text:"About",title:"Back to Home page",active:!1,to:"/about"}],carts:[],favList:[],sideCartActive:!1,sideBarActive:!1,favListActive:!1,isHadFav:!1}},methods:{hideSideCart:function(){this.sideCartActive=!1},hideSideBar:function(){this.sideBarActive=!1},hideFavList:function(){this.favListActive=!1},getCarts:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/cart");t.$http.get(e).then((function(e){t.carts=e.data.data.carts,t.sideCartActive=!0}))},getFavList:function(){var t=JSON.parse(localStorage.getItem("favProducts"))||[];this.favList=t,this.favListActive=!0},checkFavList:function(){var t=this;t.time=setInterval((function(){var e=JSON.parse(localStorage.getItem("favProducts"))||[];0!==e.length?t.isHadFav=!0:t.isHadFav=!1}),2e3)}},created:function(){this.checkFavList()}},je=we,Ve=a("71d9"),$e=Object(r["a"])(je,se,oe,!1,null,null,null),Pe=$e.exports;x()($e,{VBtn:C["a"],VCard:y["a"],VIcon:J["a"],VSpacer:tt["a"],VToolbar:Ve["a"],VToolbarItems:et["a"],VToolbarTitle:et["b"]});var Se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-footer",{staticStyle:{bottom:"-123px"},attrs:{padless:"",absolute:""}},[a("v-card",{staticClass:"blue-grey darken-1 text-center",attrs:{flat:"",tile:"",width:"100%"}},[a("v-card-text",t._l(t.footerIcons,(function(e){return a("v-btn",{key:e,staticClass:"mx-4",attrs:{icon:""}},[a("v-icon",{attrs:{size:"24px"}},[t._v(" "+t._s(e)+" ")])],1)})),1),a("v-divider"),a("v-card-text",{staticClass:"white--text"},[t._v(" "+t._s((new Date).getFullYear())+" — "),a("strong",[t._v("Angus Wu")])])],1)],1)},De=[],Oe={data:function(){return{footerIcons:["mdi-facebook","mdi-twitter","mdi-linkedin","mdi-instagram"]}}},Ie=Oe,Ee=a("553a"),Te=Object(r["a"])(Ie,Se,De,!1,null,null,null),Ae=Te.exports;x()(Te,{VBtn:C["a"],VCard:y["a"],VCardText:k["b"],VDivider:R["a"],VFooter:Ee["a"],VIcon:J["a"]});var Le={components:{Alert:z,Navbar:Pe,Footer:Ae}},He=Le,Fe=Object(r["a"])(He,ee,ae,!1,null,null,null),Me=Fe.exports;x()(Fe,{VApp:_["a"],VMain:K["a"]});var ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"bg banner-main"},[a("v-col",{staticClass:"d-flex h-100",attrs:{cols:"12",sm:"6",md:"6"}},[a("div",{staticClass:"banner-card d-flex justify-center align-start pa-5 pa-sm-0 ml-sm-16  flex-column"},[a("div",{staticClass:"text-h3 font-weight-bold"},[t._v("An Shop 飾品選貨店")]),a("div",{staticClass:"my-12 text-subtitle-1 font-weight-bold"},[t._v(" 本店產品皆由專人親自到國外選貨帶回，每一件品項都由我們用心挑選，幫助你找到最適合自己的飾品 ")]),a("div",{staticClass:"mb-3 text-h6 font-weight-bold"},[t._v(" 立即用最獨一無二的飾品點綴您身上每一處細節 ")]),a("v-btn",{attrs:{large:"",color:"blue-grey darken-1",dark:""},on:{click:t.goProducts}},[t._v(" 馬上選購 "),a("v-icon",{staticClass:"ml-2",attrs:{size:"16px"}},[t._v("mdi-arrow-right")])],1)],1)])],1)]),a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"d-flex justify-center align-center flex-column banner-go-shop"},[a("div",{staticClass:"text-h4 text-md-h3 font-weight-bold white--text mb-6 pa-4 pa-sm-0"},[t._v(" 目前全館 "),a("span",{staticClass:"red--text text-h3 font-weight-bold"},[t._v("9折")]),t._v(" 優惠活動中 ")]),a("v-btn",{staticClass:"font-wight-bold text-h6",attrs:{color:"blue-grey",large:"",dark:""},on:{click:t.goProducts}},[t._v("立即瀏覽更多商品")])],1)]),a("v-col",{staticStyle:{overflow:"hidden"},attrs:{cols:"12",md:"6"}},[a("div",{staticClass:"banner-left d-flex justify-center align-center cursor-pointer bg",class:{bgScale:t.hover.isHover&&1===t.hover.index},on:{mouseover:function(e){t.hover.isHover=!0,t.hover.index=1},mouseleave:function(e){t.hover.isHover=!1},click:t.goProducts}},[a("div",{staticClass:"text-h2 font-weight-bold banner-text",class:{hover:t.hover.isHover&&1===t.hover.index}},[t._v(" Bracelet "),a("div",{staticClass:"banner-text-underline"})])])]),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticStyle:{overflow:"hidden"},attrs:{cols:"12"}},[a("div",{staticClass:"banner-right-top d-flex justify-center align-center cursor-pointer",class:{bgScale:t.hover.isHover&&2===t.hover.index},on:{mouseover:function(e){t.hover.isHover=!0,t.hover.index=2},mouseleave:function(e){t.hover.isHover=!1},click:t.goProducts}},[a("div",{staticClass:"text-h3 font-weight-bold banner-text",class:{hover:t.hover.isHover&&2===t.hover.index}},[t._v(" Glasses "),a("div",{staticClass:"banner-text-underline"})])])]),a("v-col",{staticStyle:{overflow:"hidden"},attrs:{cols:"12",md:"6"}},[a("div",{staticClass:"banner-sm-1 bg d-flex justify-center align-center cursor-pointer position-relative",class:{bgScale:t.hover.isHover&&3===t.hover.index},on:{mouseover:function(e){t.hover.isHover=!0,t.hover.index=3},mouseleave:function(e){t.hover.isHover=!1},click:t.goProducts}},[a("div",{staticClass:"banner-overlay",class:{hover:t.hover.isHover&&3===t.hover.index}}),a("div",{staticClass:"text-h3 font-weight-bold banner-text",class:{hover:t.hover.isHover&&3===t.hover.index}},[t._v(" Earring "),a("div",{staticClass:"banner-text-underline"})])])]),a("v-col",{staticStyle:{overflow:"hidden"},attrs:{cols:"12",md:"6"}},[a("div",{staticClass:"banner-sm-2 bg d-flex justify-center align-center cursor-pointer",class:{bgScale:t.hover.isHover&&4===t.hover.index},on:{mouseover:function(e){t.hover.isHover=!0,t.hover.index=4},mouseleave:function(e){t.hover.isHover=!1},click:t.goProducts}},[a("div",{staticClass:"text-h3 font-weight-bold banner-text",class:{hover:t.hover.isHover&&4===t.hover.index}},[t._v(" Necklace "),a("div",{staticClass:"banner-text-underline",class:{hover:t.hover.isHover&&4===t.hover.index}})])])])],1)],1)],1),a("v-row",{attrs:{"no-gutters":""}})],1)},Be=[],Ne={data:function(){return{swiperOption:{slidesPerView:4,spaceBetween:30,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},autoplay:{delay:5e3,stopOnLastSlide:!1,disableOnInteraction:!0}},products:{data:[]},hover:{isHover:!1,index:-1}}},methods:{getProducts:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/products/all");t.$http.get(e).then((function(e){t.products.data=e.data.products}))},goProducts:function(){this.$router.push({path:"/products"})}},created:function(){this.getProducts()}},qe=Ne,Ue=(a("6183"),Object(r["a"])(qe,ze,Be,!1,null,null,null)),Re=Ue.exports;x()(Ue,{VBtn:C["a"],VCol:ut["a"],VContainer:w["a"],VIcon:J["a"],VRow:mt["a"]});var Je=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-img",{attrs:{src:a("dd22"),"max-height":"460",position:"center 20%"}}),s("v-container",{staticStyle:{"background-color":"white"},attrs:{id:"menu-start"}},[s("v-row",[s("v-col",{staticStyle:{position:"relative"},attrs:{cols:"12",sm:"12",md:"3"}},[s("v-card",{staticClass:"mx-auto",staticStyle:{position:"sticky",top:"15px"}},[s("v-list",t._l(t.menuItems,(function(e){return s("v-list-group",{key:e.id,attrs:{"prepend-icon":e.action,"no-action":"",color:"blue-grey darken-1"},scopedSlots:t._u([{key:"activator",fn:function(){return[s("v-list-item-content",[s("v-list-item-title",{domProps:{textContent:t._s(e.title)}})],1)]},proxy:!0}],null,!0),model:{value:e.active,callback:function(a){t.$set(e,"active",a)},expression:"item.active"}},t._l(e.items,(function(a){return s("v-list-item",{key:a.title,staticClass:"menu_item",class:{active:t.focusMenuItem.category===a.value},attrs:{link:""},on:{click:function(s){t.focusMenuItem.type=e.type,t.focusMenuItem.category=a.value}}},[s("v-list-item-content",[s("v-list-item-subtitle",{domProps:{textContent:t._s(a.title)}})],1)],1)})),1)})),1)],1)],1),s("v-col",{attrs:{cols:"12",sm:"12",md:"9"}},[t.filterProducts.length>0?s("div",[s("v-row",t._l(t.filterProducts,(function(e,a){return s("v-col",{key:a,staticClass:"pt-0",attrs:{cols:"12",sm:"6",md:"4"}},[s("v-card",{class:{cardHover:t.cardHover.hover&&t.cardHover.index===a},staticStyle:{transition:"all ease .5s"},attrs:{disabled:t.loading.isLoading&&a==t.loading.index,ripple:!1},on:{mouseover:function(e){t.cardHover.hover=!0,t.cardHover.index=a},mouseout:function(e){t.cardHover.hover=!1,t.cardHover.index=-1},click:function(a){return t.$router.push({name:"product",params:{id:e.id}})}}},[s("v-img",{staticClass:"cursor-pointer",attrs:{height:"250",src:e.imageUrl}}),s("div",{staticClass:"d-flex justify-space-between align-center"},[s("v-card-title",{staticClass:"font-weight-bold"},[t._v(t._s(e.title))]),t.getInLocalStorage(e)?s("v-btn",{staticClass:"ma-2",attrs:{icon:""},on:{click:function(a){return a.stopPropagation(),t.delFav(e)}}},[s("v-icon",{attrs:{color:"red"}},[t._v("mdi-heart")])],1):s("v-btn",{staticClass:"ma-2",attrs:{icon:""},on:{click:function(a){return a.stopPropagation(),t.setFav(e)}}},[s("v-icon",{attrs:{color:"red"}},[t._v("mdi-heart-outline")])],1)],1),s("v-card-text",[t._v("$ "+t._s(e.price))]),s("v-card-actions",[s("DialogProduct",{attrs:{product:e,carts:t.carts},on:{refetchCarts:t.getCarts}}),s("v-btn",{staticClass:"font-weight-bold text-body-1 white--text rounded-lg",attrs:{loading:t.loading.isLoading&&a==t.loading.index,color:"brown",depressed:""},on:{click:function(s){return s.stopPropagation(),t.addToCart(e.id,1,a)}}},[t._v(" 加入購物車 ")])],1),s("v-divider",{staticClass:"mx-4"}),s("v-card-title",{staticClass:"text-body-1"},[t._v("分類標籤")]),s("v-card-text",{staticClass:"d-flex flex-wrap"},t._l(e.description,(function(e,a){return s("v-chip",{key:a,staticClass:"ma-1",attrs:{dark:"",small:"",color:"blue-grey "},on:{click:function(a){a.stopPropagation(),t.focusMenuItem.type="tag",t.focusMenuItem.category=e,t.menuItems[1].active=!0}}},[t._v(t._s(e))])})),1)],1)],1)})),1)],1):t._e()])],1),s("v-btn",{staticClass:"mx-2 d-md-none",attrs:{fab:"",dark:"",fixed:"",bottom:"",right:"",color:"teal lighten-1"},on:{click:t.goTop}},[s("v-icon",{attrs:{dark:"",large:""}},[t._v(" mdi-chevron-up ")])],1)],1)],1)},Qe=[],Ye=(a("a4d3"),a("e01a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{"max-width":"80%"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,o=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"font-weight-bold text-body-1 px-2 mr-4 rounded-lg",attrs:{color:"teal darken-2",depressed:"",dark:""}},"v-btn",o,!1),s),[t._v(" 詳細資訊 ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 blue-grey darken-1 white--text"},[t._v(" "+t._s(t.product.title)+" ")]),a("div",{staticClass:"d-flex flex-wrap"},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-img",{attrs:{"max-height":"500",contain:"",src:t.product.imageUrl}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"text-h4 font-weight-bold mb-2"},[t._v(t._s(t.product.title))]),a("v-chip-group",{staticClass:"mb-6"},t._l(t.product.description,(function(e,s){return a("v-chip",{key:s,staticClass:"mr-1",attrs:{small:"",dark:"",color:"blue-grey lighten-2"}},[t._v(t._s(e))])})),1),a("div",{staticClass:"text-subtitle-2 grey--text  text--darken-2"},[t._v(" 建議售價 ")]),a("v-divider"),a("div",{staticClass:"d-flex py-3"},[a("div",{staticClass:"text-h6 text-decoration-line-through grey--text mr-3 darken-2"},[t._v(" NT$"+t._s(t.product.origin_price)+" ")]),a("div",{staticClass:"text-h6 blue-grey--text  text--darken-1"},[t._v(" NT$"+t._s(t.product.price)+" ")])]),a("v-divider"),a("div",{staticClass:"mt-6"},[a("v-select",{attrs:{dense:"",outlined:"",items:t.selectItems,label:"請選擇數量"},model:{value:t.tempQty,callback:function(e){t.tempQty=e},expression:"tempQty"}})],1),a("div",{staticClass:"mb-3"},[a("v-btn",{staticClass:"mr-3",attrs:{depressed:"",dark:"",color:"blue-grey lighten-1",loading:t.loading},on:{click:t.addToCart}},[t._v("加入購物車")]),a("v-btn",{attrs:{depressed:""},on:{click:function(e){t.dialog=!1}}},[t._v("繼續購物")])],1),a("v-divider"),a("div",{staticClass:"mt-3"},[a("div",{staticClass:"text-h5 font-weight-bold mb-2"},[t._v("注意事項")]),a("div",[t._v(t._s(t.product.content))])])],1)],1)],1)],1)],1)}),Ge=[],We={props:{product:{},carts:{type:Array}},data:function(){return{dialog:!1,selectItems:[1,2,3,4,5,6,7,8,9,10],tempQty:1,loading:!1}},methods:{addToCart:function(){var t=this,e=t.tempQty;t.carts.forEach((function(a){a.product.id===t.product.id&&(e+=a.qty,t.delCart(a.id))}));var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/cart");t.loading=!0,t.$http.post(a,{data:{product_id:t.product.id,qty:e}}).then((function(e){e.data.success?(t.$bus.$emit("messsage:push","".concat(e.data.data.product.title,"新增至購物車"),"success","mdi-check-circle"),t.refetchCarts(),t.loading=!1):(t.$bus.$emit("messsage:push","".concat(e.data.data.product.title,"新增失敗"),"danger","mdi-alert-outline"),t.loading=!1)}))},refetchCarts:function(){this.$emit("refetchCarts")},delCart:function(t){var e=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/cart/").concat(t);e.$http.delete(a).then((function(){}))}}},Ke=We,Xe=a("cc20"),Ze=a("ef9a"),ta=a("b974"),ea=Object(r["a"])(Ke,Ye,Ge,!1,null,null,null),aa=ea.exports;x()(ea,{VBtn:C["a"],VCard:y["a"],VCardTitle:k["c"],VChip:Xe["a"],VChipGroup:Ze["a"],VCol:ut["a"],VDialog:vt["a"],VDivider:R["a"],VImg:ht["a"],VSelect:ta["a"]});var sa={components:{DialogProduct:aa},data:function(){return{products:[],focusMenuItem:{type:"products",category:"all"},carts:[],menuItems:[{active:!0,action:"mdi-ticket",items:[{title:"全部商品",value:"all"},{title:"手錶",value:"watches"},{title:"墨鏡",value:"sunglasses"},{title:"戒指",value:"ring"},{title:"項鍊",value:"necklace"},{title:"耳環",value:"earings"}],type:"products",title:"商品分類"},{action:"mdi-silverware-fork-knife",items:[{title:"Man",value:"Man"},{title:"Lady",value:"Lady"},{title:"Fashion",value:"Fashion"},{title:"Best Sell",value:"Best Sell"},{title:"Character",value:"character"}],type:"tag",title:"標籤分類"}],loading:{index:-1,isLoading:!1},cardHover:{hover:!1,index:-1}}},computed:{filterProducts:function(){var t=this,e=[];return"products"===t.focusMenuItem.type?e="all"===t.focusMenuItem.category?t.products:t.products.filter((function(e){return e.category===t.focusMenuItem.category})):"tag"===t.focusMenuItem.type&&t.products.forEach((function(a){a.description.forEach((function(s){s===t.focusMenuItem.category&&e.push(a)}))})),e}},methods:{getProducts:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/products/all");t.$http.get(e).then((function(e){t.products=e.data.products,t.products.forEach((function(t){t.loading=!1}))}))},getCarts:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/cart");t.$http.get(e).then((function(e){t.carts=e.data.data.carts}))},delCart:function(t){var e=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/cart/").concat(t);e.$http.delete(a).then((function(){}))},addToCart:function(t,e,a){var s=this;s.carts.forEach((function(a){a.product.id===t&&(s.delCart(a.id),e+=a.qty)}));var o="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/cart");s.loading.isLoading=!0,s.loading.index=a,s.filterProducts[a].loading=!0,s.$http.post(o,{data:{product_id:t,qty:e}}).then((function(t){t.data.success?(s.$bus.$emit("messsage:push","".concat(t.data.data.product.title,"新增至購物車"),"success","mdi-check-circle"),s.getCarts(),s.loading.isLoading=!1):(s.$bus.$emit("messsage:push","".concat(t.data.data.product.title,"新增失敗"),"error","mdi-alert-outline"),s.loading.isLoading=!1)}))},setFav:function(t){var e=[];null===localStorage.getItem("favProducts")?localStorage.setItem("favProducts",JSON.stringify(e)):e=JSON.parse(localStorage.getItem("favProducts")),e.push(t),localStorage.setItem("favProducts",JSON.stringify(e)),this.$bus.$emit("messsage:push","".concat(t.title," 新增至我的最愛"),"success","mdi-check-circle"),this.getProducts()},delFav:function(t){var e=JSON.parse(localStorage.getItem("favProducts"));e.forEach((function(a,s){a.id===t.id&&e.splice(s,1)})),localStorage.setItem("favProducts",JSON.stringify(e)),this.$bus.$emit("messsage:push","".concat(t.title," 從我的最愛移除"),"error","mdi-alert-outline"),this.getProducts()},getInLocalStorage:function(t){var e=!1,a=JSON.parse(localStorage.getItem("favProducts"))||[];return a.forEach((function(a){a.id===t.id&&(e=!0)})),e},goTop:function(){var t=document.getElementById("menu-start");t.scrollIntoView({behavior:"smooth"})}},created:function(){this.getProducts(),this.getCarts()}},oa=sa,ia=(a("25b2"),a("56b0")),ra=Object(r["a"])(oa,Je,Qe,!1,null,null,null),ca=ra.exports;x()(ra,{VBtn:C["a"],VCard:y["a"],VCardActions:k["a"],VCardText:k["b"],VCardTitle:k["c"],VChip:Xe["a"],VCol:ut["a"],VContainer:w["a"],VDivider:R["a"],VIcon:J["a"],VImg:ht["a"],VList:Q["a"],VListGroup:ia["a"],VListItem:Y["a"],VListItemContent:G["a"],VListItemSubtitle:G["b"],VListItemTitle:G["c"],VRow:mt["a"]});var na=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-img",{attrs:{src:a("e583"),"max-height":"260",position:"center 20%"}}),s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-stepper",{staticStyle:{"box-shadow":"none"},model:{value:t.stepEl,callback:function(e){t.stepEl=e},expression:"stepEl"}},[s("v-stepper-header",{staticClass:"px-9"},[s("v-stepper-step",{attrs:{step:"1",complete:t.stepEl>1,color:"blue-grey lighten-1"}},[t._v(" 確認商品 ")]),s("v-divider"),s("v-stepper-step",{attrs:{step:"2",color:"blue-grey lighten-1",complete:t.stepEl>2}},[t._v(" 填寫資料 ")]),s("v-divider"),s("v-stepper-step",{attrs:{step:"3",color:"blue-grey lighten-1",complete:t.stepEl>3}},[t._v(" 完成訂購 ")])],1),s("v-stepper-items",[s("v-stepper-content",{attrs:{step:"1"}},[s("div",{staticClass:"d-flex justify-center"},[t.carts.length>0?s("v-card",{staticClass:"my-6",attrs:{flat:"",width:"80%",disabled:t.loading}},[s("v-divider"),s("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-left  d-none d-sm-table-cell"}),s("th",{staticClass:"text-left text-body-1 text-sm-h6 font-weight-bold"},[t._v(" 品名 ")]),s("th",{staticClass:"text-left text-body-1 text-sm-h6 font-weight-bold"},[t._v(" 售價 ")]),s("th",{staticClass:"text-left text-body-1 text-sm-h6 font-weight-bold"},[t._v(" 數量 ")]),s("th",{staticClass:"text-left"})])]),s("tbody",t._l(t.carts,(function(e,a){return s("tr",{key:a},[s("td",{staticClass:"pa-2 d-none d-sm-table-cell"},[s("v-img",{attrs:{"max-height":"90","max-width":"90",src:e.product.imageUrl}})],1),s("td",[t._v(t._s(e.product.title))]),s("td",[t._v(t._s(e.product.price))]),s("td",[s("v-text-field",{staticClass:"text-center cart-input",staticStyle:{"max-width":"100px","text-align":"center"},attrs:{readonly:"",color:"blue-grey","prepend-icon":"mdi-minus","append-outer-icon":"mdi-plus"},on:{"click:prepend":function(a){return t.updateCart(e,"minus")},"click:append-outer":function(a){return t.updateCart(e,"plus")}},model:{value:e.qty,callback:function(a){t.$set(e,"qty",a)},expression:"product.qty"}})],1),s("td",[s("v-btn",{attrs:{icon:"",color:"black"},on:{click:function(a){return t.delCart(e.id)}}},[s("v-icon",{attrs:{size:"16"}},[t._v("mdi-close")])],1)],1)])})),0)]},proxy:!0}],null,!1,3550324909)}),s("v-divider"),s("v-row",{staticClass:"mt-5"},[s("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[s("div",{staticClass:"rounded pa-3 coupon-tip blue-grey--text text--darken-2 mb-4"},[t._v(" 現在輸入優惠碼 「AnShop2021」 即可享有 9 折優惠 ")]),s("div",[s("v-text-field",{staticClass:"mb-2",attrs:{type:"text",color:"blue-grey",dense:"",outlined:"","append-outer-icon":"mdi-send",placeholder:"輸入優惠碼","hide-details":""},on:{"click:append-outer":t.useCoupon},model:{value:t.couponCode,callback:function(e){t.couponCode=e},expression:"couponCode"}}),s("span",{staticClass:"text-caption",class:t.couponHint.color},[t._v(t._s(t.couponHint.text))])],1)]),s("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[s("v-row",[s("v-col",{staticClass:"text-sm-left text-md-right text-subtitle-2",attrs:{cols:"6"}},[t._v("總計金額")]),s("v-col",{staticClass:"text-right text-subtitle-2",attrs:{cols:"6"}},[t._v("$ "+t._s(t.totalPrice))]),s("v-col",{staticClass:"text-sm-left text-md-right text-subtitle-2",attrs:{cols:"6"}},[t._v("優惠折抵")]),s("v-col",{staticClass:"text-right text-subtitle-2",attrs:{cols:"6"}},[t._v("-$ "+t._s(t.discount))]),s("v-col",{staticClass:"text-sm-left text-md-right text-subtitle-1 blue-grey--text",attrs:{cols:"6"}},[t._v("應付金額")]),s("v-col",{staticClass:"text-right text-subtitle-1 blue-grey--text",attrs:{cols:"6"}},[0!=t.final_total_price?s("div",[t._v(" $ "+t._s(t.final_total_price)+" ")]):s("div",[t._v("$ "+t._s(t.totalPrice))])])],1)],1)],1),s("v-divider"),s("div",{staticClass:"d-flex justify-space-between mt-4"},[s("v-btn",{attrs:{depressed:"",color:"blue-grey lighten-5",to:"/products"}},[t._v("繼續購物")]),s("v-btn",{attrs:{dark:"",depressed:"",color:"blue-grey lighten-1"},on:{click:function(e){t.stepEl=2}}},[t._v("下一步")])],1)],1):s("v-card",{staticClass:"my-6",attrs:{flat:"",width:"80%"}},[s("div",{staticClass:"text-center blue-grey--text font-weight-bold text-h5 mb-3"},[t._v(" 目前購物車沒有任何商品 ")]),s("div",{staticClass:"d-flex justify-center"},[s("v-btn",{attrs:{dark:"",depressed:"",color:"blue-grey lighten-1",to:"/products"}},[t._v("前往選購")])],1)])],1)]),s("v-stepper-content",{attrs:{step:"2"}},[s("div",{staticClass:"d-flex justify-center"},[s("v-card",{attrs:{flat:"",width:"80%"}},[s("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.valid;return[s("v-form",[s("v-row",[s("v-col",{attrs:{cols:"12",sm:"6"}},[s("label",{staticClass:"font-weight-bold blue-grey--text text-subtitle-1",attrs:{for:"name"}},[t._v(" 收件人姓名 * ")]),s("validation-provider",{attrs:{name:"姓名欄位",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("v-text-field",{attrs:{outlined:"",dense:"",id:"name","error-messages":a,"append-icon":"mdi-account",color:"blue-grey lighten-2",hint:"請確認輸入姓名與身分證上一致"},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}})]}}],null,!0)})],1),s("v-col",{attrs:{cols:"12",sm:"6"}},[s("label",{staticClass:"font-weight-bold blue-grey--text text-subtitle-1",attrs:{for:"tel"}},[t._v(" 收件人電話 * ")]),s("validation-provider",{attrs:{name:"電話號碼",rules:"required|numeric|min:10"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("v-text-field",{attrs:{outlined:"",dense:"",id:"tel","error-messages":a,"append-icon":"mdi-phone",color:"blue-grey lighten-2",hint:"屆時貨運人員會以此號碼聯絡取貨"},model:{value:t.user.tel,callback:function(e){t.$set(t.user,"tel",e)},expression:"user.tel"}})]}}],null,!0)})],1),s("v-col",{attrs:{cols:"12",sm:"6"}},[s("label",{staticClass:"font-weight-bold blue-grey--text text-subtitle-1",attrs:{for:"email"}},[t._v(" Email * ")]),s("validation-provider",{attrs:{name:"Email",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("v-text-field",{attrs:{outlined:"",dense:"",id:"email","append-icon":"mdi-email","error-messages":a,color:"blue-grey lighten-2"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})]}}],null,!0)})],1),s("v-col",{attrs:{cols:"12",sm:"6"}},[s("label",{staticClass:"font-weight-bold blue-grey--text text-subtitle-1",attrs:{for:"address"}},[t._v(" 收件地址 * ")]),s("validation-provider",{attrs:{name:"地址",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("v-text-field",{attrs:{outlined:"",dense:"",id:"address","append-icon":"mdi-map-marker","error-messages":a,color:"blue-grey lighten-2"},model:{value:t.user.address,callback:function(e){t.$set(t.user,"address",e)},expression:"user.address"}})]}}],null,!0)})],1),s("v-col",{attrs:{cols:"12"}},[s("label",{staticClass:"font-weight-bold blue-grey--text text-subtitle-1",attrs:{for:"feedback"}},[t._v(" 備註 (選填) ")]),s("v-textarea",{attrs:{outlined:"",id:"feedback",color:"blue-grey lighten-2",name:"input-7-4"},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),s("v-col",{attrs:{cols:"12"}},[s("div",{staticClass:"d-flex justify-space-between"},[s("v-btn",{attrs:{depressed:"",color:"blue-grey lighten-5"},on:{click:function(e){t.stepEl=1}}},[t._v("返回購物車 ")]),s("v-btn",{staticClass:"white--text",attrs:{disabled:!a,depressed:"",color:"blue-grey lighten-1"},on:{click:t.createOrder}},[t._v("下一步 ")])],1)])],1)],1)]}}])})],1)],1)]),s("v-stepper-content",{attrs:{step:"3"}},[t.order.products.length>0?s("div",{staticClass:"d-flex justify-center"},[s("v-card",{attrs:{flat:"",width:"80%"}},[s("v-expansion-panels",{staticClass:"mb-5"},[s("v-expansion-panel",[s("v-expansion-panel-header",{staticClass:"font-weight-bold blue-grey--text text--darken-4",attrs:{color:"blue-grey lighten-4"}},[t._v(" 詳細訂單內容 ")]),s("v-expansion-panel-content",{staticClass:"py-2"},[s("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-left d-none d-sm-table-cell"}),s("th",{staticClass:"text-left text-h6 font-weight-bold"},[t._v(" 品名 ")]),s("th",{staticClass:"text-left text-h6 font-weight-bold"},[t._v(" 售價 ")]),s("th",{staticClass:"text-left text-h6 font-weight-bold"},[t._v(" 數量 ")])])]),s("tbody",t._l(t.order.products,(function(e,a){return s("tr",{key:a},[s("td",{staticClass:"pa-2  d-none d-sm-table-cell"},[s("v-img",{attrs:{"max-height":"90","max-width":"90",src:e.product.imageUrl}})],1),s("td",[t._v(t._s(e.product.title))]),s("td",[t._v(t._s(e.product.price))]),s("td",[t._v(t._s(e.qty))])])})),0)]},proxy:!0}],null,!1,1251479284)})],1)],1)],1),s("v-divider"),s("div",{staticClass:"pl-4 text-h5 blue-grey--text text--darken-2 font-weight-bold my-4"},[t._v(" 訂購人資訊 ")]),s("v-row",[s("v-col",{staticClass:"pl-7 font-weight-bold",attrs:{cols:"6"}},[t._v("訂購人姓名")]),s("v-col",{attrs:{cols:"6"}},[t._v(t._s(t.order.user.name))]),s("v-col",{staticClass:"pl-7 font-weight-bold",attrs:{cols:"6"}},[t._v("訂購人電話")]),s("v-col",{attrs:{cols:"6"}},[t._v(t._s(t.order.user.tel))]),s("v-col",{staticClass:"pl-7 font-weight-bold",attrs:{cols:"6"}},[t._v("訂購人 Email")]),s("v-col",{attrs:{cols:"6"}},[t._v(t._s(t.order.user.email))]),s("v-col",{staticClass:"pl-7 font-weight-bold",attrs:{cols:"6"}},[t._v("訂購人地址")]),s("v-col",{attrs:{cols:"6"}},[t._v(t._s(t.order.user.address))]),s("v-col",{staticClass:"pl-7 font-weight-bold",attrs:{cols:"6"}},[t._v("總計金額")]),s("v-col",{attrs:{cols:"6"}},[t._v(t._s(t.order.total))])],1),s("v-divider"),s("div",{staticClass:"d-flex justify-end mt-4"},[s("v-btn",{attrs:{dark:"",depressed:"",color:"blue-grey lighten-1"},on:{click:t.pay}},[t._v("確認付款")])],1)],1)],1):t._e()]),s("v-stepper-content",{attrs:{step:"4"}},[s("div",{staticClass:"d-flex justify-center"},[s("v-card",{attrs:{flat:"",width:"80%"}},[s("div",{staticClass:"text-center text-h5 font-weight-bold blue-grey--text mb-3"},[t._v(" "+t._s(t.orderMsg.title)+" ")]),s("div",{staticClass:"text-center mb-3"},[t._v(t._s(t.orderMsg.message))]),s("div",{staticClass:"text-center mb-3"},[t._v("親愛的顧客你好，所有任何商品上的問題，歡迎致電 "),s("span",{staticClass:"font-weight-bold"},[t._v("(02) 28282828")]),t._v("，將由專人為您服務 ")]),s("div",{staticClass:"d-flex justify-center mb-5"},[s("v-btn",{attrs:{depresse:"",dark:"",color:"blue-grey lighten-1",to:"/products"}},[t._v("繼續選購")])],1),s("v-divider"),s("div",{staticClass:"text-center text-h5 font-weight-bold blue-grey--text my-3"},[t._v("常見商品 FAQ")]),s("v-expansion-panels",{attrs:{accordion:""}},[s("v-expansion-panel",[s("v-expansion-panel-header",{staticClass:"font-weight-bold blue-grey--text text--darken-4",attrs:{color:"blue-grey lighten-4"}},[t._v(" 我應該如何下訂單 ? ")]),s("v-expansion-panel-content",{staticClass:"pt-3"},[t._v(" 請將商品加入購物車之後，點擊上方購物車圖示確認商品即可前往結帳 ")])],1),s("v-expansion-panel",[s("v-expansion-panel-header",{staticClass:"font-weight-bold blue-grey--text text--darken-4",attrs:{color:"blue-grey lighten-4"}},[t._v(" 請問該如何退貨 ? ")]),s("v-expansion-panel-content",{staticClass:"pt-3"},[t._v(" 請致電店面連絡電話，會有專人為您服務 ")])],1),s("v-expansion-panel",[s("v-expansion-panel-header",{staticClass:"font-weight-bold blue-grey--text text--darken-4",attrs:{color:"blue-grey lighten-4"}},[t._v(" 請問商品該如何保養 ? ")]),s("v-expansion-panel-content",{staticClass:"pt-3"},[t._v(" 建議每星期清潔一次，配戴後以拭銀布清潔，沾上人體汗水或油脂便會失去光澤，避免外力磨損或碰觸化學品、運動配戴、接觸溫泉或海水 ")])],1)],1)],1)],1)])],1)],1)],1)],1)],1)],1)},la=[],da=a("7bb1"),ua={components:{ValidationObserver:da["a"],ValidationProvider:da["b"]},data:function(){return{stepEl:1,carts:[],couponCode:"",final_total_price:0,user:{},message:"",order:{user:{},products:[],create_at:"",total:0,id:""},orderMsg:{title:"完成訂購",message:"感謝您訂購 An-Shop 產品"},loading:!1,couponHint:{color:"",text:""}}},methods:{getCarts:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/cart");t.loading=!0,t.$http.get(e).then((function(e){t.carts=e.data.data.carts.sort((function(t,e){return t.product.price-e.product.price})),t.loading=!1}))},updateCart:function(t,e){var a=this,s=0;if(console.log(t.qty),"plus"===e)s=t.qty+1;else{if(1===t.qty)return;s=t.qty-1}a.loading=!0,a.delCart(t.id);var o=t.product.id;console.log(s,o);var i="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/cart");a.$http.post(i,{data:{product_id:o,qty:s}}).then((function(){a.getCarts()}))},useCoupon:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/coupon");t.loading=!0,t.$http.post(e,{data:{code:t.couponCode}}).then((function(e){e.data.success?(t.final_total_price=e.data.data.final_total,t.couponHint.text="優惠券已成功套用",t.couponHint.color="green--text"):(t.couponHint.text="找不到此優惠券",t.couponHint.color="red--text"),t.loading=!1}))},createOrder:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/order");t.$http.post(e,{data:{user:t.user},message:t.message}).then((function(e){e.data.success&&(t.getOrder(e.data.orderId),t.stepEl=3)}))},getOrder:function(t){var e=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/order/").concat(t);e.$http.get(a).then((function(t){for(var a in e.order.user=t.data.order.user,e.order.id=t.data.order.id,e.order.create_at=t.data.order.create_at,e.order.total=t.data.order.total,t.data.order.products)e.order.products.push(t.data.order.products[a])}))},pay:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/pay/").concat(t.order.id);t.$http.post(e).then((function(e){e.data.success?(t.orderMsg.title="完成訂購",t.orderMsg.message="感謝您訂購 An-Shop 產品"):(t.orderMsg.title="訂購失敗",t.orderMsg.message="很抱歉，訂單出錯，麻煩您重新選購商品"),t.stepEl=4}))},delCart:function(t){var e=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/cart/").concat(t);e.$http.delete(a).then((function(){e.getCarts()}))},countQty:function(t){var e=this;e.carts.forEach((function(e){e.id===t&&(e.qty+=1)}))}},computed:{totalPrice:function(){var t=0;return this.carts.forEach((function(e){var a=e.product.price*e.qty;t+=a})),t},discount:function(){var t=this,e="";return e=0===t.final_total_price?0:t.totalPrice-t.final_total_price,e}},created:function(){this.getCarts()}},pa=ua,va=(a("d864"),a("cd55")),ha=a("49e2"),ma=a("c865"),fa=a("0393"),ga=a("7e85"),ba=a("e516"),xa=a("9c54"),_a=a("56a4"),Ca=Object(r["a"])(pa,na,la,!1,null,null,null),ya=Ca.exports;x()(Ca,{VBtn:C["a"],VCard:y["a"],VCol:ut["a"],VContainer:w["a"],VDivider:R["a"],VExpansionPanel:va["a"],VExpansionPanelContent:ha["a"],VExpansionPanelHeader:ma["a"],VExpansionPanels:fa["a"],VForm:j["a"],VIcon:J["a"],VImg:ht["a"],VRow:mt["a"],VSimpleTable:Dt["a"],VStepper:ga["a"],VStepperContent:ba["a"],VStepperHeader:xa["a"],VStepperItems:xa["b"],VStepperStep:_a["a"],VTextField:S["a"],VTextarea:ft["a"]});var ka=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-img",{attrs:{src:a("53c9"),"max-height":"460",position:"center 20%"}}),s("v-container",{staticClass:"py-6 px-5 px-sm-16"},[s("div",{staticClass:"text-h3 font-weight-bold text-center blue-grey--text"},[t._v(" 關於我們 ")]),s("div",{staticClass:"text-h6 my-8 px-sm-16"},[t._v(" An Shop 創立於 2021 年，每件貨品皆由專人從國外帶回，立志於把最好的產品帶給顧客，令顧客擁有最獨特最具個性的美麗，一直以來秉持著對飾品的熱忱，以創新以及獨特的商品為主軸，讓喜愛生活風格的你們，擁有最獨一無二的商品。 "),s("br"),t._v(" 我們希望每一個飾品，都能夠成為生活裡的輕鬆假期，點亮妳天生的美麗，襯托我們獨一無二的氣質，從耳環、戒指到項鍊，從青春、知性到穩重，都有一件飾品陪妳度過，展現生活中的每個感受。 ")]),s("v-divider"),s("div",{staticClass:"text-h3 font-weight-bold text-center blue-grey--text my-8"},[t._v(" 聯絡資訊 ")]),s("v-row",[s("v-col",{attrs:{cols:"12",sm:"6"}},[s("div",{staticClass:"d-flex align-center text-h6 mb-6"},[s("v-icon",{staticClass:"mr-1",attrs:{color:"blue-grey"}},[t._v("mdi-phone")]),s("div",[t._v("連絡電話 : (02) 28282828")])],1),s("div",{staticClass:"d-flex align-center text-h6 mb-6"},[s("v-icon",{staticClass:"mr-1",attrs:{color:"blue-grey"}},[t._v("mdi-home")]),s("div",[t._v("店面地址 : 110台北市信義區市府路1號")])],1),s("div",{staticClass:"d-flex align-center text-h6 mb-6"},[s("v-icon",{staticClass:"mr-1",attrs:{color:"blue-grey"}},[t._v("mdi-clock-time-three")]),s("div",[t._v("營業時間 : 15:00 ~ 21:00")])],1),s("div",{staticClass:"d-flex align-center text-h6"},[s("v-icon",{staticClass:"mr-1",attrs:{color:"blue-grey"}},[t._v("mdi-email")]),s("div",[t._v("電子郵件 : AnShop@gmail.com")])],1)]),s("v-col",{attrs:{cols:"12",sm:"6"}},[s("iframe",{staticStyle:{border:"0"},attrs:{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d115676.73003252424!2d121.49439485820317!3d25.037541700000002!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3442abb9dc73545d%3A0x6513f5fb17ad1f67!2z6Ie65YyX5biC5pS_5bqc!5e0!3m2!1szh-TW!2stw!4v1627737109491!5m2!1szh-TW!2stw",width:"100%",height:"450",allowfullscreen:"",loading:"lazy"}})])],1),s("v-divider"),s("div",{staticClass:"text-h3 font-weight-bold text-center blue-grey--text my-8"},[t._v(" 常見FAQ ")]),s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-expansion-panels",{attrs:{accordion:""}},[s("v-expansion-panel",[s("v-expansion-panel-header",{staticClass:"font-weight-bold blue-grey--text text--darken-4",attrs:{color:"blue-grey lighten-4"}},[t._v(" 有提供國外運送服務嗎 ? ")]),s("v-expansion-panel-content",{staticClass:"pt-3"},[t._v(" 有喔 ! 我們目前提供全球運送 ")])],1),s("v-expansion-panel",[s("v-expansion-panel-header",{staticClass:"font-weight-bold blue-grey--text text--darken-4",attrs:{color:"blue-grey lighten-4"}},[t._v(" 我應該如何下訂單 ? ")]),s("v-expansion-panel-content",{staticClass:"pt-3"},[t._v(" 請將商品加入購物車之後，點擊上方購物車圖示確認商品即可前往結帳 ")])],1),s("v-expansion-panel",[s("v-expansion-panel-header",{staticClass:"font-weight-bold blue-grey--text text--darken-4",attrs:{color:"blue-grey lighten-4"}},[t._v(" 請問該如何退貨 ? ")]),s("v-expansion-panel-content",{staticClass:"pt-3"},[t._v(" 請致電店面連絡電話，會有專人為您服務 ")])],1),s("v-expansion-panel",[s("v-expansion-panel-header",{staticClass:"font-weight-bold blue-grey--text text--darken-4",attrs:{color:"blue-grey lighten-4"}},[t._v(" 請問商品該如何保養 ? ")]),s("v-expansion-panel-content",{staticClass:"pt-3"},[t._v(" 建議每星期清潔一次，配戴後以拭銀布清潔，沾上人體汗水或油脂便會失去光澤，避免外力磨損或碰觸化學品、運動配戴、接觸溫泉或海水 ")])],1)],1)],1)],1)],1)],1)},wa=[],ja={},Va=Object(r["a"])(ja,ka,wa,!1,null,null,null),$a=Va.exports;x()(Va,{VCol:ut["a"],VContainer:w["a"],VDivider:R["a"],VExpansionPanel:va["a"],VExpansionPanelContent:ha["a"],VExpansionPanelHeader:ma["a"],VExpansionPanels:fa["a"],VIcon:J["a"],VImg:ht["a"],VRow:mt["a"]});var Pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[t.dataLoaded?a("div",{attrs:{id:"menu-start"}},[a("v-row",[a("v-col",{staticClass:"d-flex justify-center",attrs:{cols:"12",sm:"6"}},[a("img",{staticStyle:{width:"400px",height:"450px","object-fit":"cover"},attrs:{src:t.product.imageUrl}})]),a("v-col",{staticClass:"pa-4",attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"text-h4 font-weight-bold mb-2"},[t._v(t._s(t.product.title))]),a("v-chip-group",{staticClass:"mb-6"},t._l(t.product.description,(function(e,s){return a("v-chip",{key:s,staticClass:"mr-1",attrs:{small:"",dark:"",color:"blue-grey lighten-2"}},[t._v(t._s(e))])})),1),a("div",{staticClass:"text-subtitle-2 grey--text  text--darken-2"},[t._v(" 建議售價 ")]),a("v-divider"),a("div",{staticClass:"d-flex py-3"},[a("div",{staticClass:"text-h6 text-decoration-line-through grey--text mr-3 darken-2"},[t._v(" NT$"+t._s(t.product.origin_price)+" ")]),a("div",{staticClass:"text-h6 blue-grey--text  text--darken-1"},[t._v(" NT$"+t._s(t.product.price)+" ")])]),a("v-divider"),a("div",{staticClass:"mt-6"},[a("v-select",{attrs:{dense:"",outlined:"",label:"請選擇數量",items:t.selectItems},model:{value:t.tempQty,callback:function(e){t.tempQty=e},expression:"tempQty"}})],1),a("div",{staticClass:"mb-3"},[a("v-btn",{staticClass:"mr-3",attrs:{depressed:"",dark:"",color:"blue-grey lighten-1",loading:t.loading.isLoading&&-2===t.loading.index},on:{click:function(e){return t.addToCart(t.product.id,t.tempQty)}}},[t._v("加入購物車")]),a("v-btn",{attrs:{depressed:"",to:"/products"}},[t._v("繼續購物")])],1),a("v-divider"),a("div",{staticClass:"mt-3"},[a("div",{staticClass:"text-h5 font-weight-bold mb-2"},[t._v("注意事項")]),a("div",[t._v(t._s(t.product.content))])])],1),a("v-col",{staticClass:"my-4",attrs:{cols:"12"}},[a("v-divider")],1),a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"font-weight-bold text-h6"},[t._v("猜你也喜歡")])]),t._l(t.likeProducts,(function(e,s){return a("v-col",{key:s,staticClass:"pt-0",attrs:{cols:"12",sm:"6",md:"4"}},[a("v-card",{staticClass:"cursor-pointer",attrs:{disabled:t.loading.isLoading&&s==t.loading.index,ripple:!1},nativeOn:{click:function(a){return t.$router.push({name:"product",params:{id:e.id}})}}},[a("v-img",{attrs:{height:"200",contain:"",src:e.imageUrl}}),a("div",{staticClass:"d-flex justify-space-between align-center"},[a("v-card-title",{staticClass:"font-weight-bold"},[t._v(t._s(e.title))])],1),a("v-card-text",[t._v("$ "+t._s(e.price))]),a("v-card-actions",[a("v-btn",{attrs:{text:"",color:"teal darken-2"},on:{click:function(a){return a.stopPropagation(),t.$router.push({name:"product",params:{id:e.id}})}}},[a("v-icon",{staticClass:"ma-1"},[t._v("mdi-chat-outline")]),t._v(" 商品頁面 ")],1),a("v-btn",{staticClass:"font-weight-bold",attrs:{loading:t.loading.isLoading&&s==t.loading.index,color:"brown",text:""},on:{click:function(a){return a.stopPropagation(),t.addToCart(e.id,1,s)}}},[a("v-icon",{staticClass:"mr-1"},[t._v("mdi-cart-outline")]),t._v(" 加入購物車 ")],1)],1),a("v-divider",{staticClass:"mx-4"}),a("v-card-title",{staticClass:"text-body-1"},[t._v("分類標籤")]),a("v-card-text",{staticClass:"d-flex flex-wrap"},t._l(e.description,(function(e,s){return a("v-chip",{key:s,staticClass:"ma-1",attrs:{dark:"",small:"",color:"blue-grey "}},[t._v(t._s(e))])})),1)],1)],1)}))],2)],1):a("div",[t._v("此產品頁面不存在")])])},Sa=[],Da={data:function(){return{product:{},products:[],dataLoaded:!1,selectItems:[1,2,3,4,5,6,7,8,9,10],tempQty:1,loading:{isLoading:!1,index:-1}}},methods:{getProduct:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/product/").concat(this.$route.params.id);t.$http.get(e).then((function(e){!1===e.data.success?t.dataLoaded=!1:(t.product=e.data.product,t.dataLoaded=!0)}))},getProducts:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/products/all");t.$http.get(e).then((function(e){t.products=e.data.products}))},addToCart:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-2,s=this,o="".concat("https://vue-course-api.hexschool.io","/api/").concat("anguswu0214","/cart");s.loading.isLoading=!0,s.loading.index=a,s.$http.post(o,{data:{product_id:t,qty:e}}).then((function(t){t.data.success?s.$bus.$emit("messsage:push","".concat(t.data.data.product.title,"新增至購物車"),"success","mdi-check-circle"):s.$bus.$emit("messsage:push","".concat(t.data.data.product.title,"新增失敗"),"error","mdi-alert-outline"),s.loading.isLoading=!1,s.loading.index=-2}))},goTop:function(){var t=document.getElementById("menu-start");t.scrollIntoView({behavior:"smooth"})}},watch:{$route:function(){this.$route.params.id&&(this.getProduct(),this.getProducts(),this.goTop())}},computed:{likeProducts:function(){var t=this,e=[];return 0!==t.products&&t.products.forEach((function(a){a.category===t.product.category&&a.id!==t.product.id&&e.length<3&&e.push(a)})),e}},created:function(){this.getProduct(),this.getProducts()}},Oa=Da,Ia=Object(r["a"])(Oa,Pa,Sa,!1,null,null,null),Ea=Ia.exports;x()(Ia,{VBtn:C["a"],VCard:y["a"],VCardActions:k["a"],VCardText:k["b"],VCardTitle:k["c"],VChip:Xe["a"],VChipGroup:Ze["a"],VCol:ut["a"],VContainer:w["a"],VDivider:R["a"],VIcon:J["a"],VImg:ht["a"],VRow:mt["a"],VSelect:ta["a"]}),s["default"].use(v["a"]);var Ta=[{path:"/login",name:"Login",component:O},{path:"/admin",name:"Admin",redirect:"/admin/dashboard",component:st,meta:{requiresAuth:!0},children:[{path:"dashboard",name:"Dashboard",component:te,meta:{requiresAuth:!0}},{path:"products",name:"Products",component:bt,meta:{requiresAuth:!0}},{path:"coupons",name:"Coupons",component:jt,meta:{requiresAuth:!0}},{path:"orders",name:"Orders",component:It,meta:{requiresAuth:!0}}]},{path:"/",name:"Shop",component:Me,redirect:"/index",children:[{path:"index",name:"ShopIndex",component:Re},{path:"products",name:"ShopProducts",component:ca},{path:"carts",name:"ShopCarts",component:ya},{path:"about",name:"About",component:$a},{path:"product/:id",name:"product",component:Ea}]},{path:"*",redirect:"/"}],Aa=new v["a"]({base:"/an-shop/",routes:Ta}),La=Aa,Ha=a("bc3a"),Fa=a.n(Ha),Ma=a("2106"),za=a.n(Ma),Ba=a("7212"),Na=a.n(Ba),qa=a("6d3b"),Ua=a("8343"),Ra=a("5dc8"),Ja=a("d17a"),Qa=(a("bbe3"),a("427f")),Ya=a.n(Qa),Ga=a("a925");s["default"].prototype.$bus=new s["default"];var Wa=function(t){var e=new Date(1e3*t);return e.toLocaleDateString()};s["default"].use(za.a,Fa.a),s["default"].use(Na.a),qa["a"].use([Ua["a"],Ra["a"],Ja["a"]]),s["default"].use(Ga["a"]);var Ka=new Ga["a"]({locale:"zhTW"});s["default"].use(da["c"],{events:"change|blur",i18n:Ka,dictionary:{zhTW:Ya.a}}),s["default"].filter("date",Wa),Fa.a.defaults.withCredentials=!0,new s["default"]({vuetify:p,router:La,render:function(t){return t(l)}}).$mount("#app"),La.beforeEach((function(t,e,a){if(t.meta.requiresAuth){var s="".concat("https://vue-course-api.hexschool.io","/api/user/check");Fa.a.post(s).then((function(t){t.data.success?a():a({path:"/login"})}))}else a()}))},6183:function(t,e,a){"use strict";a("51ff")},7906:function(t,e,a){},8022:function(t,e,a){},8247:function(t,e,a){"use strict";a("eba7")},"8ffe":function(t,e,a){},a650:function(t,e,a){},b758:function(t,e,a){"use strict";a("3aea")},d143:function(t,e,a){},d864:function(t,e,a){"use strict";a("0e38")},dd22:function(t,e,a){t.exports=a.p+"img/banner-products.c551a8ee.jpg"},e583:function(t,e,a){t.exports=a.p+"img/banner-cart.c6ed4582.jpg"},eba7:function(t,e,a){},edc6:function(t,e,a){"use strict";a("a650")},f22f:function(t,e,a){"use strict";a("d143")}});
//# sourceMappingURL=app.2c5a9061.js.map